!function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=18)}([function(t,e,i){"use strict";var a=i(6),s=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};t.exports=l;var n=Object.create(i(3));n.inherits=i(1);var r=i(12),h=i(11);n.inherits(l,r);for(var o=s(h.prototype),f=0;f<o.length;f++){var c=o[f];l.prototype[c]||(l.prototype[c]=h.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);r.call(this,t),h.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||a.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),a.nextTick(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){(function(t){function i(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===i(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===i(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===i(t)},e.isError=function(t){return"[object Error]"===i(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,i(10).Buffer)},function(t,e,i){"use strict";var a,s="object"==typeof Reflect?Reflect:null,n=s&&"function"==typeof s.apply?s.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};a=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function h(){h.init.call(this)}t.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var o=10;function f(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?h.defaultMaxListeners:t._maxListeners}function l(t,e,i,a){var s,n,r,h;if(f(i),void 0===(n=t._events)?(n=t._events=Object.create(null),t._eventsCount=0):(void 0!==n.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),n=t._events),r=n[e]),void 0===r)r=n[e]=i,++t._eventsCount;else if("function"==typeof r?r=n[e]=a?[i,r]:[r,i]:a?r.unshift(i):r.push(i),(s=c(t))>0&&r.length>s&&!r.warned){r.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=r.length,h=o,console&&console.warn&&console.warn(h)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,i){var a={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},s=u.bind(a);return s.listener=i,a.wrapFn=s,s}function b(t,e,i){var a=t._events;if(void 0===a)return[];var s=a[e];return void 0===s?[]:"function"==typeof s?i?[s.listener||s]:[s]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(s):m(s,s.length)}function p(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,e){for(var i=new Array(e),a=0;a<e;++a)i[a]=t[a];return i}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),h.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},h.prototype.getMaxListeners=function(){return c(this)},h.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var a="error"===t,s=this._events;if(void 0!==s)a=a&&void 0===s.error;else if(!a)return!1;if(a){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var h=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw h.context=r,h}var o=s[t];if(void 0===o)return!1;if("function"==typeof o)n(o,this,e);else{var f=o.length,c=m(o,f);for(i=0;i<f;++i)n(c[i],this,e)}return!0},h.prototype.addListener=function(t,e){return l(this,t,e,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(t,e){return l(this,t,e,!0)},h.prototype.once=function(t,e){return f(e),this.on(t,d(this,t,e)),this},h.prototype.prependOnceListener=function(t,e){return f(e),this.prependListener(t,d(this,t,e)),this},h.prototype.removeListener=function(t,e){var i,a,s,n,r;if(f(e),void 0===(a=this._events))return this;if(void 0===(i=a[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(s=-1,n=i.length-1;n>=0;n--)if(i[n]===e||i[n].listener===e){r=i[n].listener,s=n;break}if(s<0)return this;0===s?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,s),1===i.length&&(a[t]=i[0]),void 0!==a.removeListener&&this.emit("removeListener",t,r||e)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(t){var e,i,a;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var s,n=Object.keys(i);for(a=0;a<n.length;++a)"removeListener"!==(s=n[a])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(a=e.length-1;a>=0;a--)this.removeListener(t,e[a]);return this},h.prototype.listeners=function(t){return b(this,t,!0)},h.prototype.rawListeners=function(t){return b(this,t,!1)},h.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},h.prototype.listenerCount=p,h.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]}},function(t,e){var i,a,s=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function h(t){if(i===setTimeout)return setTimeout(t,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(t){i=n}try{a="function"==typeof clearTimeout?clearTimeout:r}catch(t){a=r}}();var o,f=[],c=!1,l=-1;function u(){c&&o&&(c=!1,o.length?f=o.concat(f):l=-1,f.length&&d())}function d(){if(!c){var t=h(u);c=!0;for(var e=f.length;e;){for(o=f,f=[];++l<e;)o&&o[l].run();l=-1,e=f.length}o=null,c=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===r||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function b(t,e){this.fun=t,this.array=e}function p(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new b(t,e)),1!==f.length||c||h(d)},b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,i,a,s){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var n,r,h=arguments.length;switch(h){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,i)}));case 3:return e.nextTick((function(){t.call(null,i,a)}));case 4:return e.nextTick((function(){t.call(null,i,a,s)}));default:for(n=new Array(h-1),r=0;r<n.length;)n[r++]=arguments[r];return e.nextTick((function(){t.apply(null,n)}))}}}:t.exports=e}).call(this,i(5))},function(t,e,i){"use strict";
/** @license
 *
 *     Colour Palette Generator script.
 *     Copyright (c) 2014 Google Inc.
 *
 *     Licensed under the Apache License, Version 2.0 (the "License"); you may
 *     not use this file except in compliance with the License.  You may
 *     obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 *     Unless required by applicable law or agreed to in writing, software
 *     distributed under the License is distributed on an "AS IS" BASIS,
 *     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
 *     implied.  See the License for the specific language governing
 *     permissions and limitations under the License.
 *
 * Furthermore, ColorBrewer colour schemes are covered by the following:
 *
 *     Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and
 *                        The Pennsylvania State University.
 *
 *     Licensed under the Apache License, Version 2.0 (the "License"); you may
 *     not use this file except in compliance with the License. You may obtain
 *     a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 *     Unless required by applicable law or agreed to in writing, software
 *     distributed under the License is distributed on an "AS IS" BASIS,
 *     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
 *     implied. See the License for the specific language governing
 *     permissions and limitations under the License.
 *
 *     Redistribution and use in source and binary forms, with or without
 *     modification, are permitted provided that the following conditions are
 *     met:
 *
 *     1. Redistributions as source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 *
 *     2. The end-user documentation included with the redistribution, if any,
 *     must include the following acknowledgment: "This product includes color
 *     specifications and designs developed by Cynthia Brewer
 *     (http://colorbrewer.org/)." Alternately, this acknowledgment may appear
 *     in the software itself, if and wherever such third-party
 *     acknowledgments normally appear.
 *
 *     4. The name "ColorBrewer" must not be used to endorse or promote products
 *     derived from this software without prior written permission. For written
 *     permission, please contact Cynthia Brewer at cbrewer@psu.edu.
 *
 *     5. Products derived from this software may not be called "ColorBrewer",
 *     nor may "ColorBrewer" appear in their name, without prior written
 *     permission of Cynthia Brewer.
 *
 * Furthermore, Solarized colour schemes are covered by the following:
 *
 *     Copyright (c) 2011 Ethan Schoonover
 *
 *     Permission is hereby granted, free of charge, to any person obtaining
 *     a copy of this software and associated documentation files (the
 *     "Software"), to deal in the Software without restriction, including
 *     without limitation the rights to use, copy, modify, merge, publish,
 *     distribute, sublicense, and/or sell copies of the Software, and to
 *     permit persons to whom the Software is furnished to do so, subject to
 *     the following conditions:
 *
 *     The above copyright notice and this permission notice shall be included
 *     in all copies or substantial portions of the Software.
 *
 *     THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 *     OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 *     MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 *     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 *     LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 *     OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 *     WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var a,s,n,r,h=function(){var t=Array.prototype,e=function(e,i,a){return t.slice.apply(e,t.slice.call(arguments,1))},i=function(t,a,s,n){if(0==(a|=0))return[];if("function"!=typeof t){var r=i.listSchemes(t,a);if(!r.length)return null;t=r[(s||0)%r.length]}var h=e(arguments,2);return h[0]=a,t.apply(t,h)};i.Scheme=function(t,a){var s={},n=0,r=1e9,h=function(){if(arguments.length<=1)return o.color_func.bind(o);var t=e(arguments);return function(e){return t[0]=e,o.color_func.apply(o,t)}},o=function(t,e){if(!(t|=0))return[];var a=t;if((t=Math.abs(t))<=n){for(var f=Math.max(t,r);!(f in s);++f);var c=s[f];if(f>t){var l="shrinking_takes_head"in c?c.shrinking_takes_head:o.shrinking_takes_head;if(!l)return i.generate((function(t){return c[Math.round(t)]}),a,0,c.length-1);c=c.slice(0,t),f=t}return c=c.slice(),a<0&&c.reverse(),c}return o.color_func?i.generate(h.apply(o,arguments),a,0,1,o.color_func_cyclic):null};return o.scheme_name=t,o.groups=a?"string"==typeof a?[a]:a:[],o.max=0,o.cbf_max=1e9,o.addPalette=function(t,e){var i=t.length;i&&(s[i]=t,r=Math.min(r,i),n=Math.max(n,i),o.max=Math.max(o.max,i),e||1==i||(o.cbf_max=Math.min(o.cbf_max,i-1)))},o.addPalettes=function(t,e,i){e=e||t.length;for(var a=0;a<e;++a)a in t&&o.addPalette(t[a],!0);o.cbf_max=Math.min(o.cbf_max,i||1)},o.shrinkByTakingHead=function(t,e){void 0!==e?e in s&&(s[e].shrinking_takes_head=!!t):o.shrinking_takes_head=!!t},o.setColorFunction=function(t,e,i){o.color_func=t,o.color_func_cyclic=!!i,o.max=1e9,e||1e9!==o.cbf_max||(o.cbf_max=1)},o.color=function(t,e){return o.color_func?o.color_func.apply(this,arguments):null},o},i.Scheme.fromPalettes=function(t,a,s,n,r){var h=i.Scheme(t,a);return h.addPalettes.apply(h,e(arguments,2)),h},i.Scheme.withColorFunction=function(t,a,s,n,r){var h=i.Scheme(t,a);return h.setColorFunction.apply(h,e(arguments,2)),h};var a={};i.register=function(t){a["n-"+t.scheme_name]=[t],t.groups.forEach((function(e){(a["g-"+e]=a["g-"+e]||[]).push(t)})),(a["g-all"]=a["g-all"]||[]).push(t)},i.listSchemes=function(t,e){e?e<0&&(e=-e):e=2;var i=[];return("string"==typeof t?[t]:t).forEach((function(t){var s="-cbf"===t.substring(t.length-4);s&&(t=t.substring(0,t.length-4));for(var n,r=a["g-"+t]||a["n-"+t]||[],h=0;n=r[h];++h)(s?n.cbf:n.max)>=e&&i.push(n)})),i.sort((function(t,e){return t.scheme_name>=e.scheme_name?t.scheme_name>e.scheme_name?1:0:-1})),i},i.generate=function(t,e,i,a,s){if(Math.abs(e)<1)return[];if(i=void 0===i?0:i,a=void 0===a?1:a,Math.abs(e)<2)return[t(i)];for(var n=Math.abs(e),r=i,h=[],o=(a-i)/(s?n:n-1);--n>=0;r+=o)h.push(t(r));return e<0&&h.reverse(),h};var s=function(t){return t>0?t<1?t:1:0};return i.rgbColor=function(t,e,i){return[t,e,i].map((function(t){return 1==(t=Number(Math.round(255*s(t))).toString(16)).length?"0"+t:t})).join("")},i.linearRgbColor=function(t,e,i){return[t,e,i].map((function(t){return(t=s(t))<=.0031308?t*=12.92:t=1.055*Math.pow(t,1/2.4)-.055,1==(t=Number(Math.round(255*t)).toString(16)).length?"0"+t:t})).join("")},i.hsvColor=function(t,e,a){t*=6;var n=void 0===e?1:s(e),r=void 0===a?1:s(a),h=r*(1-n*Math.abs(t%2-1)),o=r*(1-n);switch(Math.floor(t)%6){case 0:return i.rgbColor(r,h,o);case 1:return i.rgbColor(h,r,o);case 2:return i.rgbColor(o,r,h);case 3:return i.rgbColor(o,h,r);case 4:return i.rgbColor(h,o,r);default:return i.rgbColor(r,o,h)}},i.register(i.Scheme.withColorFunction("rainbow","qualitative",i.hsvColor,!1,!0)),i}();h.ColorFunction,h.Palette,h.PalettesList,h.SchemeType,(a=h.Scheme.fromPalettes("mpn65","qualitative",[["ff0029","377eb8","66a61e","984ea3","00d2d5","ff7f00","af8d00","7f80cd","b3e900","c42e60","a65628","f781bf","8dd3c7","bebada","fb8072","80b1d3","fdb462","fccde5","bc80bd","ffed6f","c4eaff","cf8c00","1b9e77","d95f02","e7298a","e6ab02","a6761d","0097ff","00d067","000000","252525","525252","737373","969696","bdbdbd","f43600","4ba93b","5779bb","927acc","97ee3f","bf3947","9f5b00","f48758","8caed6","f2b94f","eff26e","e43872","d9b100","9d7a00","698cff","d9d9d9","00d27e","d06800","009f82","c49200","cbe8ff","fecddf","c27eb6","8cd2ce","c4b8d9","f883b0","a49100","f48800","27d0df","a04a9b"]])).shrinkByTakingHead(!0),h.register(a),s=h.rgbColor,n=function(t,e){for(var i=arguments.length-1,a=arguments[i];i>1;)a=a*t+arguments[--i];return a},r=function(t){var e=n(Math.abs(t),1,.278393,.230389,972e-6,.078108);return e*=e,e=1-1/(e*=e),t<0?-e:e},h.register(h.Scheme.fromPalettes("tol","qualitative",[["4477aa"],["4477aa","cc6677"],["4477aa","ddcc77","cc6677"],["4477aa","117733","ddcc77","cc6677"],["332288","88ccee","117733","ddcc77","cc6677"],["332288","88ccee","117733","ddcc77","cc6677","aa4499"],["332288","88ccee","44aa99","117733","ddcc77","cc6677","aa4499"],["332288","88ccee","44aa99","117733","999933","ddcc77","cc6677","aa4499"],["332288","88ccee","44aa99","117733","999933","ddcc77","cc6677","882255","aa4499"],["332288","88ccee","44aa99","117733","999933","ddcc77","661100","cc6677","882255","aa4499"],["332288","6699cc","88ccee","44aa99","117733","999933","ddcc77","661100","cc6677","882255","aa4499"],["332288","6699cc","88ccee","44aa99","117733","999933","ddcc77","661100","cc6677","aa4466","882255","aa4499"]],12,12)),h.tolSequentialColor=function(t){return s(1-.392*(1+r((t-.869)/.255)),1.021-.456*(1+r((t-.527)/.376)),1-.493*(1+r((t-.272)/.309)))},h.register(h.Scheme.withColorFunction("tol-sq","sequential",h.tolSequentialColor,!0)),h.tolDivergingColor=function(t){var e=n(t,.572,1.524,-1.811)/n(t,1,-.291,.1574);return s(n(t,.235,-2.13,26.92,-65.5,63.5,-22.36),e*e,1/n(t,1.579,-4.03,12.92,-31.4,48.6,-23.36))},h.register(h.Scheme.withColorFunction("tol-dv","diverging",h.tolDivergingColor,!0)),h.tolRainbowColor=function(t){return s(n(t,.472,-.567,4.05)/n(t,1,8.72,-19.17,14.1),n(t,.108932,-1.22635,27.284,-98.577,163.3,-131.395,40.634),1/n(t,1.97,3.54,-68.5,243,-297,125))},h.register(h.Scheme.withColorFunction("tol-rainbow","qualitative",h.tolRainbowColor,!0)),h.register(h.Scheme.fromPalettes("sol-base","sequential",[["002b36","073642","586e75","657b83","839496","93a1a1","eee8d5","fdf6e3"]],1,8)),h.register(h.Scheme.fromPalettes("sol-accent","qualitative",[["b58900","cb4b16","dc322f","d33682","6c71c4","268bd2","2aa198","859900"]])),function(){var t={YlGn:{type:"sequential",cbf:42,3:["f7fcb9","addd8e","31a354"],4:["ffffcc","c2e699","78c679","238443"],5:["ffffcc","c2e699","78c679","31a354","006837"],6:["ffffcc","d9f0a3","addd8e","78c679","31a354","006837"],7:["ffffcc","d9f0a3","addd8e","78c679","41ab5d","238443","005a32"],8:["ffffe5","f7fcb9","d9f0a3","addd8e","78c679","41ab5d","238443","005a32"],9:["ffffe5","f7fcb9","d9f0a3","addd8e","78c679","41ab5d","238443","006837","004529"]},YlGnBu:{type:"sequential",cbf:42,3:["edf8b1","7fcdbb","2c7fb8"],4:["ffffcc","a1dab4","41b6c4","225ea8"],5:["ffffcc","a1dab4","41b6c4","2c7fb8","253494"],6:["ffffcc","c7e9b4","7fcdbb","41b6c4","2c7fb8","253494"],7:["ffffcc","c7e9b4","7fcdbb","41b6c4","1d91c0","225ea8","0c2c84"],8:["ffffd9","edf8b1","c7e9b4","7fcdbb","41b6c4","1d91c0","225ea8","0c2c84"],9:["ffffd9","edf8b1","c7e9b4","7fcdbb","41b6c4","1d91c0","225ea8","253494","081d58"]},GnBu:{type:"sequential",cbf:42,3:["e0f3db","a8ddb5","43a2ca"],4:["f0f9e8","bae4bc","7bccc4","2b8cbe"],5:["f0f9e8","bae4bc","7bccc4","43a2ca","0868ac"],6:["f0f9e8","ccebc5","a8ddb5","7bccc4","43a2ca","0868ac"],7:["f0f9e8","ccebc5","a8ddb5","7bccc4","4eb3d3","2b8cbe","08589e"],8:["f7fcf0","e0f3db","ccebc5","a8ddb5","7bccc4","4eb3d3","2b8cbe","08589e"],9:["f7fcf0","e0f3db","ccebc5","a8ddb5","7bccc4","4eb3d3","2b8cbe","0868ac","084081"]},BuGn:{type:"sequential",cbf:42,3:["e5f5f9","99d8c9","2ca25f"],4:["edf8fb","b2e2e2","66c2a4","238b45"],5:["edf8fb","b2e2e2","66c2a4","2ca25f","006d2c"],6:["edf8fb","ccece6","99d8c9","66c2a4","2ca25f","006d2c"],7:["edf8fb","ccece6","99d8c9","66c2a4","41ae76","238b45","005824"],8:["f7fcfd","e5f5f9","ccece6","99d8c9","66c2a4","41ae76","238b45","005824"],9:["f7fcfd","e5f5f9","ccece6","99d8c9","66c2a4","41ae76","238b45","006d2c","00441b"]},PuBuGn:{type:"sequential",cbf:42,3:["ece2f0","a6bddb","1c9099"],4:["f6eff7","bdc9e1","67a9cf","02818a"],5:["f6eff7","bdc9e1","67a9cf","1c9099","016c59"],6:["f6eff7","d0d1e6","a6bddb","67a9cf","1c9099","016c59"],7:["f6eff7","d0d1e6","a6bddb","67a9cf","3690c0","02818a","016450"],8:["fff7fb","ece2f0","d0d1e6","a6bddb","67a9cf","3690c0","02818a","016450"],9:["fff7fb","ece2f0","d0d1e6","a6bddb","67a9cf","3690c0","02818a","016c59","014636"]},PuBu:{type:"sequential",cbf:42,3:["ece7f2","a6bddb","2b8cbe"],4:["f1eef6","bdc9e1","74a9cf","0570b0"],5:["f1eef6","bdc9e1","74a9cf","2b8cbe","045a8d"],6:["f1eef6","d0d1e6","a6bddb","74a9cf","2b8cbe","045a8d"],7:["f1eef6","d0d1e6","a6bddb","74a9cf","3690c0","0570b0","034e7b"],8:["fff7fb","ece7f2","d0d1e6","a6bddb","74a9cf","3690c0","0570b0","034e7b"],9:["fff7fb","ece7f2","d0d1e6","a6bddb","74a9cf","3690c0","0570b0","045a8d","023858"]},BuPu:{type:"sequential",cbf:42,3:["e0ecf4","9ebcda","8856a7"],4:["edf8fb","b3cde3","8c96c6","88419d"],5:["edf8fb","b3cde3","8c96c6","8856a7","810f7c"],6:["edf8fb","bfd3e6","9ebcda","8c96c6","8856a7","810f7c"],7:["edf8fb","bfd3e6","9ebcda","8c96c6","8c6bb1","88419d","6e016b"],8:["f7fcfd","e0ecf4","bfd3e6","9ebcda","8c96c6","8c6bb1","88419d","6e016b"],9:["f7fcfd","e0ecf4","bfd3e6","9ebcda","8c96c6","8c6bb1","88419d","810f7c","4d004b"]},RdPu:{type:"sequential",cbf:42,3:["fde0dd","fa9fb5","c51b8a"],4:["feebe2","fbb4b9","f768a1","ae017e"],5:["feebe2","fbb4b9","f768a1","c51b8a","7a0177"],6:["feebe2","fcc5c0","fa9fb5","f768a1","c51b8a","7a0177"],7:["feebe2","fcc5c0","fa9fb5","f768a1","dd3497","ae017e","7a0177"],8:["fff7f3","fde0dd","fcc5c0","fa9fb5","f768a1","dd3497","ae017e","7a0177"],9:["fff7f3","fde0dd","fcc5c0","fa9fb5","f768a1","dd3497","ae017e","7a0177","49006a"]},PuRd:{type:"sequential",cbf:42,3:["e7e1ef","c994c7","dd1c77"],4:["f1eef6","d7b5d8","df65b0","ce1256"],5:["f1eef6","d7b5d8","df65b0","dd1c77","980043"],6:["f1eef6","d4b9da","c994c7","df65b0","dd1c77","980043"],7:["f1eef6","d4b9da","c994c7","df65b0","e7298a","ce1256","91003f"],8:["f7f4f9","e7e1ef","d4b9da","c994c7","df65b0","e7298a","ce1256","91003f"],9:["f7f4f9","e7e1ef","d4b9da","c994c7","df65b0","e7298a","ce1256","980043","67001f"]},OrRd:{type:"sequential",cbf:42,3:["fee8c8","fdbb84","e34a33"],4:["fef0d9","fdcc8a","fc8d59","d7301f"],5:["fef0d9","fdcc8a","fc8d59","e34a33","b30000"],6:["fef0d9","fdd49e","fdbb84","fc8d59","e34a33","b30000"],7:["fef0d9","fdd49e","fdbb84","fc8d59","ef6548","d7301f","990000"],8:["fff7ec","fee8c8","fdd49e","fdbb84","fc8d59","ef6548","d7301f","990000"],9:["fff7ec","fee8c8","fdd49e","fdbb84","fc8d59","ef6548","d7301f","b30000","7f0000"]},YlOrRd:{type:"sequential",cbf:42,3:["ffeda0","feb24c","f03b20"],4:["ffffb2","fecc5c","fd8d3c","e31a1c"],5:["ffffb2","fecc5c","fd8d3c","f03b20","bd0026"],6:["ffffb2","fed976","feb24c","fd8d3c","f03b20","bd0026"],7:["ffffb2","fed976","feb24c","fd8d3c","fc4e2a","e31a1c","b10026"],8:["ffffcc","ffeda0","fed976","feb24c","fd8d3c","fc4e2a","e31a1c","b10026"],9:["ffffcc","ffeda0","fed976","feb24c","fd8d3c","fc4e2a","e31a1c","bd0026","800026"]},YlOrBr:{type:"sequential",cbf:42,3:["fff7bc","fec44f","d95f0e"],4:["ffffd4","fed98e","fe9929","cc4c02"],5:["ffffd4","fed98e","fe9929","d95f0e","993404"],6:["ffffd4","fee391","fec44f","fe9929","d95f0e","993404"],7:["ffffd4","fee391","fec44f","fe9929","ec7014","cc4c02","8c2d04"],8:["ffffe5","fff7bc","fee391","fec44f","fe9929","ec7014","cc4c02","8c2d04"],9:["ffffe5","fff7bc","fee391","fec44f","fe9929","ec7014","cc4c02","993404","662506"]},Purples:{type:"sequential",cbf:42,3:["efedf5","bcbddc","756bb1"],4:["f2f0f7","cbc9e2","9e9ac8","6a51a3"],5:["f2f0f7","cbc9e2","9e9ac8","756bb1","54278f"],6:["f2f0f7","dadaeb","bcbddc","9e9ac8","756bb1","54278f"],7:["f2f0f7","dadaeb","bcbddc","9e9ac8","807dba","6a51a3","4a1486"],8:["fcfbfd","efedf5","dadaeb","bcbddc","9e9ac8","807dba","6a51a3","4a1486"],9:["fcfbfd","efedf5","dadaeb","bcbddc","9e9ac8","807dba","6a51a3","54278f","3f007d"]},Blues:{type:"sequential",cbf:42,3:["deebf7","9ecae1","3182bd"],4:["eff3ff","bdd7e7","6baed6","2171b5"],5:["eff3ff","bdd7e7","6baed6","3182bd","08519c"],6:["eff3ff","c6dbef","9ecae1","6baed6","3182bd","08519c"],7:["eff3ff","c6dbef","9ecae1","6baed6","4292c6","2171b5","084594"],8:["f7fbff","deebf7","c6dbef","9ecae1","6baed6","4292c6","2171b5","084594"],9:["f7fbff","deebf7","c6dbef","9ecae1","6baed6","4292c6","2171b5","08519c","08306b"]},Greens:{type:"sequential",cbf:42,3:["e5f5e0","a1d99b","31a354"],4:["edf8e9","bae4b3","74c476","238b45"],5:["edf8e9","bae4b3","74c476","31a354","006d2c"],6:["edf8e9","c7e9c0","a1d99b","74c476","31a354","006d2c"],7:["edf8e9","c7e9c0","a1d99b","74c476","41ab5d","238b45","005a32"],8:["f7fcf5","e5f5e0","c7e9c0","a1d99b","74c476","41ab5d","238b45","005a32"],9:["f7fcf5","e5f5e0","c7e9c0","a1d99b","74c476","41ab5d","238b45","006d2c","00441b"]},Oranges:{type:"sequential",cbf:42,3:["fee6ce","fdae6b","e6550d"],4:["feedde","fdbe85","fd8d3c","d94701"],5:["feedde","fdbe85","fd8d3c","e6550d","a63603"],6:["feedde","fdd0a2","fdae6b","fd8d3c","e6550d","a63603"],7:["feedde","fdd0a2","fdae6b","fd8d3c","f16913","d94801","8c2d04"],8:["fff5eb","fee6ce","fdd0a2","fdae6b","fd8d3c","f16913","d94801","8c2d04"],9:["fff5eb","fee6ce","fdd0a2","fdae6b","fd8d3c","f16913","d94801","a63603","7f2704"]},Reds:{type:"sequential",cbf:42,3:["fee0d2","fc9272","de2d26"],4:["fee5d9","fcae91","fb6a4a","cb181d"],5:["fee5d9","fcae91","fb6a4a","de2d26","a50f15"],6:["fee5d9","fcbba1","fc9272","fb6a4a","de2d26","a50f15"],7:["fee5d9","fcbba1","fc9272","fb6a4a","ef3b2c","cb181d","99000d"],8:["fff5f0","fee0d2","fcbba1","fc9272","fb6a4a","ef3b2c","cb181d","99000d"],9:["fff5f0","fee0d2","fcbba1","fc9272","fb6a4a","ef3b2c","cb181d","a50f15","67000d"]},Greys:{type:"sequential",cbf:42,3:["f0f0f0","bdbdbd","636363"],4:["f7f7f7","cccccc","969696","525252"],5:["f7f7f7","cccccc","969696","636363","252525"],6:["f7f7f7","d9d9d9","bdbdbd","969696","636363","252525"],7:["f7f7f7","d9d9d9","bdbdbd","969696","737373","525252","252525"],8:["ffffff","f0f0f0","d9d9d9","bdbdbd","969696","737373","525252","252525"],9:["ffffff","f0f0f0","d9d9d9","bdbdbd","969696","737373","525252","252525","000000"]},PuOr:{type:"diverging",cbf:42,3:["f1a340","f7f7f7","998ec3"],4:["e66101","fdb863","b2abd2","5e3c99"],5:["e66101","fdb863","f7f7f7","b2abd2","5e3c99"],6:["b35806","f1a340","fee0b6","d8daeb","998ec3","542788"],7:["b35806","f1a340","fee0b6","f7f7f7","d8daeb","998ec3","542788"],8:["b35806","e08214","fdb863","fee0b6","d8daeb","b2abd2","8073ac","542788"],9:["b35806","e08214","fdb863","fee0b6","f7f7f7","d8daeb","b2abd2","8073ac","542788"],10:["7f3b08","b35806","e08214","fdb863","fee0b6","d8daeb","b2abd2","8073ac","542788","2d004b"],11:["7f3b08","b35806","e08214","fdb863","fee0b6","f7f7f7","d8daeb","b2abd2","8073ac","542788","2d004b"]},BrBG:{type:"diverging",cbf:42,3:["d8b365","f5f5f5","5ab4ac"],4:["a6611a","dfc27d","80cdc1","018571"],5:["a6611a","dfc27d","f5f5f5","80cdc1","018571"],6:["8c510a","d8b365","f6e8c3","c7eae5","5ab4ac","01665e"],7:["8c510a","d8b365","f6e8c3","f5f5f5","c7eae5","5ab4ac","01665e"],8:["8c510a","bf812d","dfc27d","f6e8c3","c7eae5","80cdc1","35978f","01665e"],9:["8c510a","bf812d","dfc27d","f6e8c3","f5f5f5","c7eae5","80cdc1","35978f","01665e"],10:["543005","8c510a","bf812d","dfc27d","f6e8c3","c7eae5","80cdc1","35978f","01665e","003c30"],11:["543005","8c510a","bf812d","dfc27d","f6e8c3","f5f5f5","c7eae5","80cdc1","35978f","01665e","003c30"]},PRGn:{type:"diverging",cbf:42,3:["af8dc3","f7f7f7","7fbf7b"],4:["7b3294","c2a5cf","a6dba0","008837"],5:["7b3294","c2a5cf","f7f7f7","a6dba0","008837"],6:["762a83","af8dc3","e7d4e8","d9f0d3","7fbf7b","1b7837"],7:["762a83","af8dc3","e7d4e8","f7f7f7","d9f0d3","7fbf7b","1b7837"],8:["762a83","9970ab","c2a5cf","e7d4e8","d9f0d3","a6dba0","5aae61","1b7837"],9:["762a83","9970ab","c2a5cf","e7d4e8","f7f7f7","d9f0d3","a6dba0","5aae61","1b7837"],10:["40004b","762a83","9970ab","c2a5cf","e7d4e8","d9f0d3","a6dba0","5aae61","1b7837","00441b"],11:["40004b","762a83","9970ab","c2a5cf","e7d4e8","f7f7f7","d9f0d3","a6dba0","5aae61","1b7837","00441b"]},PiYG:{type:"diverging",cbf:42,3:["e9a3c9","f7f7f7","a1d76a"],4:["d01c8b","f1b6da","b8e186","4dac26"],5:["d01c8b","f1b6da","f7f7f7","b8e186","4dac26"],6:["c51b7d","e9a3c9","fde0ef","e6f5d0","a1d76a","4d9221"],7:["c51b7d","e9a3c9","fde0ef","f7f7f7","e6f5d0","a1d76a","4d9221"],8:["c51b7d","de77ae","f1b6da","fde0ef","e6f5d0","b8e186","7fbc41","4d9221"],9:["c51b7d","de77ae","f1b6da","fde0ef","f7f7f7","e6f5d0","b8e186","7fbc41","4d9221"],10:["8e0152","c51b7d","de77ae","f1b6da","fde0ef","e6f5d0","b8e186","7fbc41","4d9221","276419"],11:["8e0152","c51b7d","de77ae","f1b6da","fde0ef","f7f7f7","e6f5d0","b8e186","7fbc41","4d9221","276419"]},RdBu:{type:"diverging",cbf:42,3:["ef8a62","f7f7f7","67a9cf"],4:["ca0020","f4a582","92c5de","0571b0"],5:["ca0020","f4a582","f7f7f7","92c5de","0571b0"],6:["b2182b","ef8a62","fddbc7","d1e5f0","67a9cf","2166ac"],7:["b2182b","ef8a62","fddbc7","f7f7f7","d1e5f0","67a9cf","2166ac"],8:["b2182b","d6604d","f4a582","fddbc7","d1e5f0","92c5de","4393c3","2166ac"],9:["b2182b","d6604d","f4a582","fddbc7","f7f7f7","d1e5f0","92c5de","4393c3","2166ac"],10:["67001f","b2182b","d6604d","f4a582","fddbc7","d1e5f0","92c5de","4393c3","2166ac","053061"],11:["67001f","b2182b","d6604d","f4a582","fddbc7","f7f7f7","d1e5f0","92c5de","4393c3","2166ac","053061"]},RdGy:{type:"diverging",cbf:42,3:["ef8a62","ffffff","999999"],4:["ca0020","f4a582","bababa","404040"],5:["ca0020","f4a582","ffffff","bababa","404040"],6:["b2182b","ef8a62","fddbc7","e0e0e0","999999","4d4d4d"],7:["b2182b","ef8a62","fddbc7","ffffff","e0e0e0","999999","4d4d4d"],8:["b2182b","d6604d","f4a582","fddbc7","e0e0e0","bababa","878787","4d4d4d"],9:["b2182b","d6604d","f4a582","fddbc7","ffffff","e0e0e0","bababa","878787","4d4d4d"],10:["67001f","b2182b","d6604d","f4a582","fddbc7","e0e0e0","bababa","878787","4d4d4d","1a1a1a"],11:["67001f","b2182b","d6604d","f4a582","fddbc7","ffffff","e0e0e0","bababa","878787","4d4d4d","1a1a1a"]},RdYlBu:{type:"diverging",cbf:42,3:["fc8d59","ffffbf","91bfdb"],4:["d7191c","fdae61","abd9e9","2c7bb6"],5:["d7191c","fdae61","ffffbf","abd9e9","2c7bb6"],6:["d73027","fc8d59","fee090","e0f3f8","91bfdb","4575b4"],7:["d73027","fc8d59","fee090","ffffbf","e0f3f8","91bfdb","4575b4"],8:["d73027","f46d43","fdae61","fee090","e0f3f8","abd9e9","74add1","4575b4"],9:["d73027","f46d43","fdae61","fee090","ffffbf","e0f3f8","abd9e9","74add1","4575b4"],10:["a50026","d73027","f46d43","fdae61","fee090","e0f3f8","abd9e9","74add1","4575b4","313695"],11:["a50026","d73027","f46d43","fdae61","fee090","ffffbf","e0f3f8","abd9e9","74add1","4575b4","313695"]},Spectral:{type:"diverging",cbf:0,3:["fc8d59","ffffbf","99d594"],4:["d7191c","fdae61","abdda4","2b83ba"],5:["d7191c","fdae61","ffffbf","abdda4","2b83ba"],6:["d53e4f","fc8d59","fee08b","e6f598","99d594","3288bd"],7:["d53e4f","fc8d59","fee08b","ffffbf","e6f598","99d594","3288bd"],8:["d53e4f","f46d43","fdae61","fee08b","e6f598","abdda4","66c2a5","3288bd"],9:["d53e4f","f46d43","fdae61","fee08b","ffffbf","e6f598","abdda4","66c2a5","3288bd"],10:["9e0142","d53e4f","f46d43","fdae61","fee08b","e6f598","abdda4","66c2a5","3288bd","5e4fa2"],11:["9e0142","d53e4f","f46d43","fdae61","fee08b","ffffbf","e6f598","abdda4","66c2a5","3288bd","5e4fa2"]},RdYlGn:{type:"diverging",cbf:0,3:["fc8d59","ffffbf","91cf60"],4:["d7191c","fdae61","a6d96a","1a9641"],5:["d7191c","fdae61","ffffbf","a6d96a","1a9641"],6:["d73027","fc8d59","fee08b","d9ef8b","91cf60","1a9850"],7:["d73027","fc8d59","fee08b","ffffbf","d9ef8b","91cf60","1a9850"],8:["d73027","f46d43","fdae61","fee08b","d9ef8b","a6d96a","66bd63","1a9850"],9:["d73027","f46d43","fdae61","fee08b","ffffbf","d9ef8b","a6d96a","66bd63","1a9850"],10:["a50026","d73027","f46d43","fdae61","fee08b","d9ef8b","a6d96a","66bd63","1a9850","006837"],11:["a50026","d73027","f46d43","fdae61","fee08b","ffffbf","d9ef8b","a6d96a","66bd63","1a9850","006837"]},Accent:{type:"qualitative",cbf:0,3:["7fc97f","beaed4","fdc086"],4:["7fc97f","beaed4","fdc086","ffff99"],5:["7fc97f","beaed4","fdc086","ffff99","386cb0"],6:["7fc97f","beaed4","fdc086","ffff99","386cb0","f0027f"],7:["7fc97f","beaed4","fdc086","ffff99","386cb0","f0027f","bf5b17"],8:["7fc97f","beaed4","fdc086","ffff99","386cb0","f0027f","bf5b17","666666"]},Dark2:{type:"qualitative",cbf:3,3:["1b9e77","d95f02","7570b3"],4:["1b9e77","d95f02","7570b3","e7298a"],5:["1b9e77","d95f02","7570b3","e7298a","66a61e"],6:["1b9e77","d95f02","7570b3","e7298a","66a61e","e6ab02"],7:["1b9e77","d95f02","7570b3","e7298a","66a61e","e6ab02","a6761d"],8:["1b9e77","d95f02","7570b3","e7298a","66a61e","e6ab02","a6761d","666666"]},Paired:{type:"qualitative",cbf:4,3:["a6cee3","1f78b4","b2df8a"],4:["a6cee3","1f78b4","b2df8a","33a02c"],5:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99"],6:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c"],7:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f"],8:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00"],9:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00","cab2d6"],10:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00","cab2d6","6a3d9a"],11:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00","cab2d6","6a3d9a","ffff99"],12:["a6cee3","1f78b4","b2df8a","33a02c","fb9a99","e31a1c","fdbf6f","ff7f00","cab2d6","6a3d9a","ffff99","b15928"]},Pastel1:{type:"qualitative",cbf:0,3:["fbb4ae","b3cde3","ccebc5"],4:["fbb4ae","b3cde3","ccebc5","decbe4"],5:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6"],6:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6","ffffcc"],7:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6","ffffcc","e5d8bd"],8:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6","ffffcc","e5d8bd","fddaec"],9:["fbb4ae","b3cde3","ccebc5","decbe4","fed9a6","ffffcc","e5d8bd","fddaec","f2f2f2"]},Pastel2:{type:"qualitative",cbf:0,3:["b3e2cd","fdcdac","cbd5e8"],4:["b3e2cd","fdcdac","cbd5e8","f4cae4"],5:["b3e2cd","fdcdac","cbd5e8","f4cae4","e6f5c9"],6:["b3e2cd","fdcdac","cbd5e8","f4cae4","e6f5c9","fff2ae"],7:["b3e2cd","fdcdac","cbd5e8","f4cae4","e6f5c9","fff2ae","f1e2cc"],8:["b3e2cd","fdcdac","cbd5e8","f4cae4","e6f5c9","fff2ae","f1e2cc","cccccc"]},Set1:{type:"qualitative",cbf:0,3:["e41a1c","377eb8","4daf4a"],4:["e41a1c","377eb8","4daf4a","984ea3"],5:["e41a1c","377eb8","4daf4a","984ea3","ff7f00"],6:["e41a1c","377eb8","4daf4a","984ea3","ff7f00","ffff33"],7:["e41a1c","377eb8","4daf4a","984ea3","ff7f00","ffff33","a65628"],8:["e41a1c","377eb8","4daf4a","984ea3","ff7f00","ffff33","a65628","f781bf"],9:["e41a1c","377eb8","4daf4a","984ea3","ff7f00","ffff33","a65628","f781bf","999999"]},Set2:{type:"qualitative",cbf:3,3:["66c2a5","fc8d62","8da0cb"],4:["66c2a5","fc8d62","8da0cb","e78ac3"],5:["66c2a5","fc8d62","8da0cb","e78ac3","a6d854"],6:["66c2a5","fc8d62","8da0cb","e78ac3","a6d854","ffd92f"],7:["66c2a5","fc8d62","8da0cb","e78ac3","a6d854","ffd92f","e5c494"],8:["66c2a5","fc8d62","8da0cb","e78ac3","a6d854","ffd92f","e5c494","b3b3b3"]},Set3:{type:"qualitative",cbf:0,3:["8dd3c7","ffffb3","bebada"],4:["8dd3c7","ffffb3","bebada","fb8072"],5:["8dd3c7","ffffb3","bebada","fb8072","80b1d3"],6:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462"],7:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69"],8:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5"],9:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5","d9d9d9"],10:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5","d9d9d9","bc80bd"],11:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5","d9d9d9","bc80bd","ccebc5"],12:["8dd3c7","ffffb3","bebada","fb8072","80b1d3","fdb462","b3de69","fccde5","d9d9d9","bc80bd","ccebc5","ffed6f"]}};for(var e in t){var i=t[e];i=h.Scheme.fromPalettes("cb-"+e,[i.type,"cb-"+i.type],i,12,i.cbf),h.register(i)}}(),t.exports&&(t.exports=h)},function(t,e,i){(e=t.exports=i(12)).Stream=e,e.Readable=e,e.Writable=i(11),e.Duplex=i(0),e.Transform=i(17),e.PassThrough=i(31)},function(t,e,i){var a=i(10),s=a.Buffer;function n(t,e){for(var i in t)e[i]=t[i]}function r(t,e,i){return s(t,e,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=a:(n(a,e),e.Buffer=r),n(s,r),r.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,i)},r.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var a=s(t);return void 0!==e?"string"==typeof i?a.fill(e,i):a.fill(e):a.fill(0),a},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a.SlowBuffer(t)}},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var a=i(22),s=i(23),n=i(13);function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=o.prototype:(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,i){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return f(this,t,e,i)}function f(t,e,i,a){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,a){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(a||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===a?new Uint8Array(e):void 0===a?new Uint8Array(e,i):new Uint8Array(e,i,a);o.TYPED_ARRAY_SUPPORT?(t=e).__proto__=o.prototype:t=u(t,e);return t}(t,e,i,a):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!o.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var a=0|b(e,i),s=(t=h(t,a)).write(e,i);s!==a&&(t=t.slice(0,s));return t}(t,e,i):function(t,e){if(o.isBuffer(e)){var i=0|d(e.length);return 0===(t=h(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(a=e.length)!=a?h(t,0):u(t,e);if("Buffer"===e.type&&n(e.data))return u(t,e.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(c(e),t=h(t,e<0?0:0|d(e)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function u(t,e){var i=e.length<0?0:0|d(e.length);t=h(t,i);for(var a=0;a<i;a+=1)t[a]=255&e[a];return t}function d(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function b(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var a=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(t).length;default:if(a)return U(t).length;e=(""+e).toLowerCase(),a=!0}}function p(t,e,i){var a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,i);case"utf8":case"utf-8":return P(this,e,i);case"ascii":return C(this,e,i);case"latin1":case"binary":return k(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,i);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}function m(t,e,i){var a=t[e];t[e]=t[i],t[i]=a}function y(t,e,i,a,s){if(0===t.length)return-1;if("string"==typeof i?(a=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=s?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(s)return-1;i=t.length-1}else if(i<0){if(!s)return-1;i=0}if("string"==typeof e&&(e=o.from(e,a)),o.isBuffer(e))return 0===e.length?-1:M(t,e,i,a,s);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):M(t,[e],i,a,s);throw new TypeError("val must be string, number or Buffer")}function M(t,e,i,a,s){var n,r=1,h=t.length,o=e.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(t.length<2||e.length<2)return-1;r=2,h/=2,o/=2,i/=2}function f(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(s){var c=-1;for(n=i;n<h;n++)if(f(t,n)===f(e,-1===c?0:n-c)){if(-1===c&&(c=n),n-c+1===o)return c*r}else-1!==c&&(n-=n-c),c=-1}else for(i+o>h&&(i=h-o),n=i;n>=0;n--){for(var l=!0,u=0;u<o;u++)if(f(t,n+u)!==f(e,u)){l=!1;break}if(l)return n}return-1}function g(t,e,i,a){i=Number(i)||0;var s=t.length-i;a?(a=Number(a))>s&&(a=s):a=s;var n=e.length;if(n%2!=0)throw new TypeError("Invalid hex string");a>n/2&&(a=n/2);for(var r=0;r<a;++r){var h=parseInt(e.substr(2*r,2),16);if(isNaN(h))return r;t[i+r]=h}return r}function v(t,e,i,a){return z(U(e,t.length-i),t,i,a)}function _(t,e,i,a){return z(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,a)}function w(t,e,i,a){return _(t,e,i,a)}function x(t,e,i,a){return z(G(e),t,i,a)}function S(t,e,i,a){return z(function(t,e){for(var i,a,s,n=[],r=0;r<t.length&&!((e-=2)<0);++r)i=t.charCodeAt(r),a=i>>8,s=i%256,n.push(s),n.push(a);return n}(e,t.length-i),t,i,a)}function E(t,e,i){return 0===e&&i===t.length?a.fromByteArray(t):a.fromByteArray(t.slice(e,i))}function P(t,e,i){i=Math.min(t.length,i);for(var a=[],s=e;s<i;){var n,r,h,o,f=t[s],c=null,l=f>239?4:f>223?3:f>191?2:1;if(s+l<=i)switch(l){case 1:f<128&&(c=f);break;case 2:128==(192&(n=t[s+1]))&&(o=(31&f)<<6|63&n)>127&&(c=o);break;case 3:n=t[s+1],r=t[s+2],128==(192&n)&&128==(192&r)&&(o=(15&f)<<12|(63&n)<<6|63&r)>2047&&(o<55296||o>57343)&&(c=o);break;case 4:n=t[s+1],r=t[s+2],h=t[s+3],128==(192&n)&&128==(192&r)&&128==(192&h)&&(o=(15&f)<<18|(63&n)<<12|(63&r)<<6|63&h)>65535&&o<1114112&&(c=o)}null===c?(c=65533,l=1):c>65535&&(c-=65536,a.push(c>>>10&1023|55296),c=56320|1023&c),a.push(c),s+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",a=0;for(;a<e;)i+=String.fromCharCode.apply(String,t.slice(a,a+=4096));return i}(a)}e.Buffer=o,e.SlowBuffer=function(t){+t!=t&&(t=0);return o.alloc(+t)},e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,i){return f(null,t,e,i)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,i){return function(t,e,i,a){return c(e),e<=0?h(t,e):void 0!==i?"string"==typeof a?h(t,e).fill(i,a):h(t,e).fill(i):h(t,e)}(null,t,e,i)},o.allocUnsafe=function(t){return l(null,t)},o.allocUnsafeSlow=function(t){return l(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,a=e.length,s=0,n=Math.min(i,a);s<n;++s)if(t[s]!==e[s]){i=t[s],a=e[s];break}return i<a?-1:a<i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var a=o.allocUnsafe(e),s=0;for(i=0;i<t.length;++i){var r=t[i];if(!o.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(a,s),s+=r.length}return a},o.byteLength=b,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):p.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,i,a,s){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===a&&(a=0),void 0===s&&(s=this.length),e<0||i>t.length||a<0||s>this.length)throw new RangeError("out of range index");if(a>=s&&e>=i)return 0;if(a>=s)return-1;if(e>=i)return 1;if(this===t)return 0;for(var n=(s>>>=0)-(a>>>=0),r=(i>>>=0)-(e>>>=0),h=Math.min(n,r),f=this.slice(a,s),c=t.slice(e,i),l=0;l<h;++l)if(f[l]!==c[l]){n=f[l],r=c[l];break}return n<r?-1:r<n?1:0},o.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},o.prototype.indexOf=function(t,e,i){return y(this,t,e,i,!0)},o.prototype.lastIndexOf=function(t,e,i){return y(this,t,e,i,!1)},o.prototype.write=function(t,e,i,a){if(void 0===e)a="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)a=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===a&&(a="utf8")):(a=i,i=void 0)}var s=this.length-e;if((void 0===i||i>s)&&(i=s),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var n=!1;;)switch(a){case"hex":return g(this,t,e,i);case"utf8":case"utf-8":return v(this,t,e,i);case"ascii":return _(this,t,e,i);case"latin1":case"binary":return w(this,t,e,i);case"base64":return x(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,i);default:if(n)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),n=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(t,e,i){var a="";i=Math.min(t.length,i);for(var s=e;s<i;++s)a+=String.fromCharCode(127&t[s]);return a}function k(t,e,i){var a="";i=Math.min(t.length,i);for(var s=e;s<i;++s)a+=String.fromCharCode(t[s]);return a}function A(t,e,i){var a=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>a)&&(i=a);for(var s="",n=e;n<i;++n)s+=D(t[n]);return s}function T(t,e,i){for(var a=t.slice(e,i),s="",n=0;n<a.length;n+=2)s+=String.fromCharCode(a[n]+256*a[n+1]);return s}function R(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,i,a,s,n){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<n)throw new RangeError('"value" argument is out of bounds');if(i+a>t.length)throw new RangeError("Index out of range")}function N(t,e,i,a){e<0&&(e=65535+e+1);for(var s=0,n=Math.min(t.length-i,2);s<n;++s)t[i+s]=(e&255<<8*(a?s:1-s))>>>8*(a?s:1-s)}function I(t,e,i,a){e<0&&(e=4294967295+e+1);for(var s=0,n=Math.min(t.length-i,4);s<n;++s)t[i+s]=e>>>8*(a?s:3-s)&255}function q(t,e,i,a,s,n){if(i+a>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(t,e,i,a,n){return n||q(t,0,i,4),s.write(t,e,i,a,23,4),i+4}function j(t,e,i,a,n){return n||q(t,0,i,8),s.write(t,e,i,a,52,8),i+8}o.prototype.slice=function(t,e){var i,a=this.length;if((t=~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),(e=void 0===e?a:~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=o.prototype;else{var s=e-t;i=new o(s,void 0);for(var n=0;n<s;++n)i[n]=this[n+t]}return i},o.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||R(t,e,this.length);for(var a=this[t],s=1,n=0;++n<e&&(s*=256);)a+=this[t+n]*s;return a},o.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||R(t,e,this.length);for(var a=this[t+--e],s=1;e>0&&(s*=256);)a+=this[t+--e]*s;return a},o.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||R(t,e,this.length);for(var a=this[t],s=1,n=0;++n<e&&(s*=256);)a+=this[t+n]*s;return a>=(s*=128)&&(a-=Math.pow(2,8*e)),a},o.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||R(t,e,this.length);for(var a=e,s=1,n=this[t+--a];a>0&&(s*=256);)n+=this[t+--a]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*e)),n},o.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),s.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),s.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),s.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),s.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,i,a){(t=+t,e|=0,i|=0,a)||O(this,t,e,i,Math.pow(2,8*i)-1,0);var s=1,n=0;for(this[e]=255&t;++n<i&&(s*=256);)this[e+n]=t/s&255;return e+i},o.prototype.writeUIntBE=function(t,e,i,a){(t=+t,e|=0,i|=0,a)||O(this,t,e,i,Math.pow(2,8*i)-1,0);var s=i-1,n=1;for(this[e+s]=255&t;--s>=0&&(n*=256);)this[e+s]=t/n&255;return e+i},o.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,i,a){if(t=+t,e|=0,!a){var s=Math.pow(2,8*i-1);O(this,t,e,i,s-1,-s)}var n=0,r=1,h=0;for(this[e]=255&t;++n<i&&(r*=256);)t<0&&0===h&&0!==this[e+n-1]&&(h=1),this[e+n]=(t/r>>0)-h&255;return e+i},o.prototype.writeIntBE=function(t,e,i,a){if(t=+t,e|=0,!a){var s=Math.pow(2,8*i-1);O(this,t,e,i,s-1,-s)}var n=i-1,r=1,h=0;for(this[e+n]=255&t;--n>=0&&(r*=256);)t<0&&0===h&&0!==this[e+n+1]&&(h=1),this[e+n]=(t/r>>0)-h&255;return e+i},o.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,i){return L(this,t,e,!0,i)},o.prototype.writeFloatBE=function(t,e,i){return L(this,t,e,!1,i)},o.prototype.writeDoubleLE=function(t,e,i){return j(this,t,e,!0,i)},o.prototype.writeDoubleBE=function(t,e,i){return j(this,t,e,!1,i)},o.prototype.copy=function(t,e,i,a){if(i||(i=0),a||0===a||(a=this.length),e>=t.length&&(e=t.length),e||(e=0),a>0&&a<i&&(a=i),a===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-e<a-i&&(a=t.length-e+i);var s,n=a-i;if(this===t&&i<e&&e<a)for(s=n-1;s>=0;--s)t[s+e]=this[s+i];else if(n<1e3||!o.TYPED_ARRAY_SUPPORT)for(s=0;s<n;++s)t[s+e]=this[s+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+n),e);return n},o.prototype.fill=function(t,e,i,a){if("string"==typeof t){if("string"==typeof e?(a=e,e=0,i=this.length):"string"==typeof i&&(a=i,i=this.length),1===t.length){var s=t.charCodeAt(0);s<256&&(t=s)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!o.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var n;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(n=e;n<i;++n)this[n]=t;else{var r=o.isBuffer(t)?t:U(new o(t,a).toString()),h=r.length;for(n=0;n<i-e;++n)this[n+e]=r[n%h]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var i;e=e||1/0;for(var a=t.length,s=null,n=[],r=0;r<a;++r){if((i=t.charCodeAt(r))>55295&&i<57344){if(!s){if(i>56319){(e-=3)>-1&&n.push(239,191,189);continue}if(r+1===a){(e-=3)>-1&&n.push(239,191,189);continue}s=i;continue}if(i<56320){(e-=3)>-1&&n.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&(e-=3)>-1&&n.push(239,191,189);if(s=null,i<128){if((e-=1)<0)break;n.push(i)}else if(i<2048){if((e-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return n}function G(t){return a.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,i,a){for(var s=0;s<a&&!(s+i>=e.length||s>=t.length);++s)e[s+i]=t[s];return s}}).call(this,i(2))},function(t,e,i){"use strict";(function(e,a,s){var n=i(6);function r(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,i){var a=t.entry;t.entry=null;for(;a;){var s=a.callback;e.pendingcb--,s(i),a=a.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=M;var h,o=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?a:n.nextTick;M.WritableState=y;var f=Object.create(i(3));f.inherits=i(1);var c={deprecate:i(29)},l=i(14),u=i(9).Buffer,d=s.Uint8Array||function(){};var b,p=i(15);function m(){}function y(t,e){h=h||i(0),t=t||{};var a=e instanceof h;this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var s=t.highWaterMark,f=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:a&&(f||0===f)?f:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,a=i.sync,s=i.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),e)!function(t,e,i,a,s){--e.pendingcb,i?(n.nextTick(s,a),n.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",a)):(s(a),t._writableState.errorEmitted=!0,t.emit("error",a),S(t,e))}(t,i,a,e,s);else{var r=w(i);r||i.corked||i.bufferProcessing||!i.bufferedRequest||_(t,i),a?o(v,t,i,r,s):v(t,i,r,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function M(t){if(h=h||i(0),!(b.call(M,this)||this instanceof h))return new M(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function g(t,e,i,a,s,n,r){e.writelen=a,e.writecb=r,e.writing=!0,e.sync=!0,i?t._writev(s,e.onwrite):t._write(s,n,e.onwrite),e.sync=!1}function v(t,e,i,a){i||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,a(),S(t,e)}function _(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var a=e.bufferedRequestCount,s=new Array(a),n=e.corkedRequestsFree;n.entry=i;for(var h=0,o=!0;i;)s[h]=i,i.isBuf||(o=!1),i=i.next,h+=1;s.allBuffers=o,g(t,e,!0,e.length,s,"",n.finish),e.pendingcb++,e.lastBufferedRequest=null,n.next?(e.corkedRequestsFree=n.next,n.next=null):e.corkedRequestsFree=new r(e),e.bufferedRequestCount=0}else{for(;i;){var f=i.chunk,c=i.encoding,l=i.callback;if(g(t,e,!1,e.objectMode?1:f.length,f,c,l),i=i.next,e.bufferedRequestCount--,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final((function(i){e.pendingcb--,i&&t.emit("error",i),e.prefinished=!0,t.emit("prefinish"),S(t,e)}))}function S(t,e){var i=w(e);return i&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,n.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),i}f.inherits(M,l),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(t){return!!b.call(this,t)||this===M&&(t&&t._writableState instanceof y)}})):b=function(t){return t instanceof this},M.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},M.prototype.write=function(t,e,i){var a,s=this._writableState,r=!1,h=!s.objectMode&&(a=t,u.isBuffer(a)||a instanceof d);return h&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(i=e,e=null),h?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof i&&(i=m),s.ended?function(t,e){var i=new Error("write after end");t.emit("error",i),n.nextTick(e,i)}(this,i):(h||function(t,e,i,a){var s=!0,r=!1;return null===i?r=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r&&(t.emit("error",r),n.nextTick(a,r),s=!1),s}(this,s,t,i))&&(s.pendingcb++,r=function(t,e,i,a,s,n){if(!i){var r=function(t,e,i){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,i));return e}(e,a,s);a!==r&&(i=!0,s="buffer",a=r)}var h=e.objectMode?1:a.length;e.length+=h;var o=e.length<e.highWaterMark;o||(e.needDrain=!0);if(e.writing||e.corked){var f=e.lastBufferedRequest;e.lastBufferedRequest={chunk:a,encoding:s,isBuf:i,callback:n,next:null},f?f.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else g(t,e,!1,h,a,s,n);return o}(this,s,h,t,e,i)),r},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},M.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(t,e,i){i(new Error("_write() is not implemented"))},M.prototype._writev=null,M.prototype.end=function(t,e,i){var a=this._writableState;"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),a.corked&&(a.corked=1,this.uncork()),a.ending||a.finished||function(t,e,i){e.ending=!0,S(t,e),i&&(e.finished?n.nextTick(i):t.once("finish",i));e.ended=!0,t.writable=!1}(this,a,i)},Object.defineProperty(M.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),M.prototype.destroy=p.destroy,M.prototype._undestroy=p.undestroy,M.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,i(5),i(27).setImmediate,i(2))},function(t,e,i){"use strict";(function(e,a){var s=i(6);t.exports=g;var n,r=i(13);g.ReadableState=M;i(4).EventEmitter;var h=function(t,e){return t.listeners(e).length},o=i(14),f=i(9).Buffer,c=e.Uint8Array||function(){};var l=Object.create(i(3));l.inherits=i(1);var u=i(24),d=void 0;d=u&&u.debuglog?u.debuglog("stream"):function(){};var b,p=i(25),m=i(15);l.inherits(g,o);var y=["error","close","destroy","pause","resume"];function M(t,e){t=t||{};var a=e instanceof(n=n||i(0));this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var s=t.highWaterMark,r=t.readableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:a&&(r||0===r)?r:h,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(b||(b=i(16).StringDecoder),this.decoder=new b(t.encoding),this.encoding=t.encoding)}function g(t){if(n=n||i(0),!(this instanceof g))return new g(t);this._readableState=new M(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function v(t,e,i,a,s){var n,r=t._readableState;null===e?(r.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,x(t)}(t,r)):(s||(n=function(t,e){var i;a=e,f.isBuffer(a)||a instanceof c||"string"==typeof e||void 0===e||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));var a;return i}(r,e)),n?t.emit("error",n):r.objectMode||e&&e.length>0?("string"==typeof e||r.objectMode||Object.getPrototypeOf(e)===f.prototype||(e=function(t){return f.from(t)}(e)),a?r.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,r,e,!0):r.ended?t.emit("error",new Error("stream.push() after EOF")):(r.reading=!1,r.decoder&&!i?(e=r.decoder.write(e),r.objectMode||0!==e.length?_(t,r,e,!1):E(t,r)):_(t,r,e,!1))):a||(r.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(r)}function _(t,e,i,a){e.flowing&&0===e.length&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,a?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&x(t)),E(t,e)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(t,e){this.push(null),e(t)},g.prototype.push=function(t,e){var i,a=this._readableState;return a.objectMode?i=!0:"string"==typeof t&&((e=e||a.defaultEncoding)!==a.encoding&&(t=f.from(t,e),e=""),i=!0),v(this,t,e,!1,i)},g.prototype.unshift=function(t){return v(this,t,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(t){return b||(b=i(16).StringDecoder),this._readableState.decoder=new b(t),this._readableState.encoding=t,this};function w(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?s.nextTick(S,t):S(t))}function S(t){d("emit readable"),t.emit("readable"),A(t)}function E(t,e){e.readingMore||(e.readingMore=!0,s.nextTick(P,t,e))}function P(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}function C(t){d("readable nexttick read 0"),t.read(0)}function k(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function T(t,e){return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):i=function(t,e,i){var a;t<e.head.data.length?(a=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):a=t===e.head.data.length?e.shift():i?function(t,e){var i=e.head,a=1,s=i.data;t-=s.length;for(;i=i.next;){var n=i.data,r=t>n.length?n.length:t;if(r===n.length?s+=n:s+=n.slice(0,t),0===(t-=r)){r===n.length?(++a,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=n.slice(r));break}++a}return e.length-=a,s}(t,e):function(t,e){var i=f.allocUnsafe(t),a=e.head,s=1;a.data.copy(i),t-=a.data.length;for(;a=a.next;){var n=a.data,r=t>n.length?n.length:t;if(n.copy(i,i.length-t,0,r),0===(t-=r)){r===n.length?(++s,a.next?e.head=a.next:e.head=e.tail=null):(e.head=a,a.data=n.slice(r));break}++s}return e.length-=s,i}(t,e);return a}(t,e.buffer,e.decoder),i);var i}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,s.nextTick(O,e,t))}function O(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var i=0,a=t.length;i<a;i++)if(t[i]===e)return i;return-1}g.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):x(this),null;if(0===(t=w(t,e))&&e.ended)return 0===e.length&&R(this),null;var a,s=e.needReadable;return d("need readable",s),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",s=!0),e.ended||e.reading?d("reading or ended",s=!1):s&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=w(i,e))),null===(a=t>0?T(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&R(this)),null!==a&&this.emit("data",a),a},g.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(t,e){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,d("pipe count=%d opts=%j",n.pipesCount,e);var o=(!e||!1!==e.end)&&t!==a.stdout&&t!==a.stderr?c:g;function f(e,a){d("onunpipe"),e===i&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,d("cleanup"),t.removeListener("close",y),t.removeListener("finish",M),t.removeListener("drain",l),t.removeListener("error",m),t.removeListener("unpipe",f),i.removeListener("end",c),i.removeListener("end",g),i.removeListener("data",p),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){d("onend"),t.end()}n.endEmitted?s.nextTick(o):i.once("end",o),t.on("unpipe",f);var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&h(t,"data")&&(e.flowing=!0,A(t))}}(i);t.on("drain",l);var u=!1;var b=!1;function p(e){d("ondata"),b=!1,!1!==t.write(e)||b||((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==N(n.pipes,t))&&!u&&(d("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,b=!0),i.pause())}function m(e){d("onerror",e),g(),t.removeListener("error",m),0===h(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",M),g()}function M(){d("onfinish"),t.removeListener("close",y),g()}function g(){d("unpipe"),i.unpipe(t)}return i.on("data",p),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(t,"error",m),t.once("close",y),t.once("finish",M),t.emit("pipe",i),n.flowing||(d("pipe resume"),i.resume()),t},g.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i)),this;if(!t){var a=e.pipes,s=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var n=0;n<s;n++)a[n].emit("unpipe",this,i);return this}var r=N(e.pipes,t);return-1===r||(e.pipes.splice(r,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i)),this},g.prototype.on=function(t,e){var i=o.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var a=this._readableState;a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&x(this):s.nextTick(C,this))}return i},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,s.nextTick(k,t,e))}(this,t)),this},g.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(t){var e=this,i=this._readableState,a=!1;for(var s in t.on("end",(function(){if(d("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(s){(d("wrapped data"),i.decoder&&(s=i.decoder.write(s)),i.objectMode&&null==s)||(i.objectMode||s&&s.length)&&(e.push(s)||(a=!0,t.pause()))})),t)void 0===this[s]&&"function"==typeof t[s]&&(this[s]=function(e){return function(){return t[e].apply(t,arguments)}}(s));for(var n=0;n<y.length;n++)t.on(y[n],this.emit.bind(this,y[n]));return this._read=function(e){d("wrapped _read",e),a&&(a=!1,t.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=T}).call(this,i(2),i(5))},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){t.exports=i(4).EventEmitter},function(t,e,i){"use strict";var a=i(6);function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var i=this,n=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return n||r?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||a.nextTick(s,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(a.nextTick(s,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,i){"use strict";var a=i(30).Buffer,s=a.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(a.isEncoding===s||!s(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=o,this.end=f,e=4;break;case"utf8":this.fillLast=h,e=4;break;case"base64":this.text=c,this.end=l,e=3;break;default:return this.write=u,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(e)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function h(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function o(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var a=i.charCodeAt(i.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function c(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=n,n.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},n.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},n.prototype.text=function(t,e){var i=function(t,e,i){var a=e.length-1;if(a<i)return 0;var s=r(e[a]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--a<i||-2===s)return 0;if((s=r(e[a]))>=0)return s>0&&(t.lastNeed=s-2),s;if(--a<i||-2===s)return 0;if((s=r(e[a]))>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var a=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,a),t.toString("utf8",e,a)},n.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,i){"use strict";t.exports=r;var a=i(0),s=Object.create(i(3));function n(t,e){var i=this._transformState;i.transforming=!1;var a=i.writecb;if(!a)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=e&&this.push(e),a(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function r(t){if(!(this instanceof r))return new r(t);a.call(this,t),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"==typeof this._flush?this._flush((function(e,i){o(t,e,i)})):o(this,null,null)}function o(t,e,i){if(e)return t.emit("error",e);if(null!=i&&t.push(i),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}s.inherits=i(1),s.inherits(r,a),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,i){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,i){var a=this._transformState;if(a.writecb=i,a.writechunk=t,a.writeencoding=e,!a.transforming){var s=this._readableState;(a.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var i=this;a.prototype._destroy.call(this,t,(function(t){e(t),i.emit("close")}))}},function(t,e,i){const a=i(19),s=i(20);t.exports={Renderer:s,TelemetryData:a}},function(t,e){function i(t,e){t.sticky||(t.sticky={}),Object.keys(e.sticky).forEach(i=>{t.sticky[i]||(t.sticky[i]=e.sticky[i])})}t.exports=class{constructor(t){var e,a,s;this.telemetry=t,this.accelSamples=((e=this.telemetry[1].streams.ACCL.samples).forEach((t,a)=>{t.index=a,a>0&&i(t,e[a-1]);const s=t.value;t.abs=Math.sqrt(s[0]**2+s[1]**2+s[2]**2),t.vector=[Math.acos(s[0]/t.abs),Math.acos(s[1]/t.abs),Math.acos(s[2]/t.abs)]}),e),this.gyroSamples=((a=this.telemetry[1].streams.GYRO.samples).forEach((t,e)=>{t.index=e,e>0&&i(t,a[e-1]);const s=t.value;if(0===e)t.orientation=[0,0,0];else{const i=(t.cts-a[e-1].cts)/1e3,n=a[e-1].orientation;t.orientation=[n[0]-s[0]*i,n[1]-s[1]*i,n[2]+s[2]*i]}t.orientation_rad=t.orientation.map(t=>180*t/Math.PI)}),a),this.gpsSamples=((s=this.telemetry[1].streams.GPS5.samples).forEach((t,e)=>{t.index=e,e>0&&i(t,s[e-1]);const a=t.value;t.alt=a[2],t.speed3d=a[4],t.speed3d_kph=3.6*t.speed3d}),s.filter(t=>t.sticky.precision<1e3))}getFrameRate(){return this.telemetry["frames/second"]}getMaxFrame(t){const e=this.gyroSamples.map(t=>t.cts?t.cts:0).reduce((t,e)=>Math.max(t,e),0);return Math.ceil(t*e/1e3)}getAccel(){return this.accelSamples}getGyro(){return this.gyroSamples}getGPS(){return this.gpsSamples}findNearest(t,e){let i,a;for(let s=0;s<t.length;s++){const n=t[s],r=n.cts/1e3,h=Math.abs(e-r);if(void 0===i)i=h,a=n;else{if(h>i)return a;i=h,a=n}}return a}}},function(t,e,i){const{Readable:a}=i(21),s=i(4),n=i(36),r=i(37),h=i(38),o=i(39);class f extends a{constructor(t,e,i){super(i),this.maxFrame=t,this.renderFrame=e,this._index=0}_read(){if(this._index>this.maxFrame)this.push(null);else{const t=this.renderFrame(this._index);this.push(t)}this._index++}}t.exports=class extends s{constructor(t,e,i,a){super(),this.telemetryData=e,this.imageRate=i,this.gpsSamples=e.getGPS(),this.accelSamples=e.getAccel(),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gpsTrace=new h(this.gpsSamples,{x:50,y:100}),this.altTrace=new n(this.gpsSamples,{x:1450,y:100}),this.speedBar=new o(this.gpsSamples,{x:50,y:50}),this.gForceBar=new r(this.accelSamples,{x:1450,y:1300}),this.maxFrame=a||e.getMaxFrame(i),this.emit("max_frames",this.maxFrame)}render(t){this.emit("start_frame",t,this.maxFrame);const e=this.ctx,i=t/this.imageRate;e.clearRect(0,0,this.canvas.width,this.canvas.height);const a=this.telemetryData.findNearest(this.gpsSamples,i);this.altTrace.drawTrace(e),this.altTrace.drawLocation(e,a),this.speedBar.drawBox(e,a),this.gpsTrace.drawTrace(e),this.gpsTrace.drawLocation(e,a);const s=this.telemetryData.findNearest(this.accelSamples,i);this.gForceBar.drawBox(e,s),this.gForceBar.drawCircle(e,s),this.emit("frame",t,this.maxFrame)}renderFrame(t){return this.render(t),this.canvas.toBuffer()}getStream(){return new f(this.maxFrame,this.renderFrame,{})}}},function(t,e,i){t.exports=s;var a=i(4).EventEmitter;function s(){a.call(this)}i(1)(s,a),s.Readable=i(8),s.Writable=i(32),s.Duplex=i(33),s.Transform=i(34),s.PassThrough=i(35),s.Stream=s,s.prototype.pipe=function(t,e){var i=this;function s(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function n(){i.readable&&i.resume&&i.resume()}i.on("data",s),t.on("drain",n),t._isStdio||e&&!1===e.end||(i.on("end",h),i.on("close",o));var r=!1;function h(){r||(r=!0,t.end())}function o(){r||(r=!0,"function"==typeof t.destroy&&t.destroy())}function f(t){if(c(),0===a.listenerCount(this,"error"))throw t}function c(){i.removeListener("data",s),t.removeListener("drain",n),i.removeListener("end",h),i.removeListener("close",o),i.removeListener("error",f),t.removeListener("error",f),i.removeListener("end",c),i.removeListener("close",c),t.removeListener("close",c)}return i.on("error",f),t.on("error",f),i.on("end",c),i.on("close",c),t.on("close",c),t.emit("pipe",i),t}},function(t,e,i){"use strict";e.byteLength=function(t){var e=f(t),i=e[0],a=e[1];return 3*(i+a)/4-a},e.toByteArray=function(t){var e,i,a=f(t),r=a[0],h=a[1],o=new n(function(t,e,i){return 3*(e+i)/4-i}(0,r,h)),c=0,l=h>0?r-4:r;for(i=0;i<l;i+=4)e=s[t.charCodeAt(i)]<<18|s[t.charCodeAt(i+1)]<<12|s[t.charCodeAt(i+2)]<<6|s[t.charCodeAt(i+3)],o[c++]=e>>16&255,o[c++]=e>>8&255,o[c++]=255&e;2===h&&(e=s[t.charCodeAt(i)]<<2|s[t.charCodeAt(i+1)]>>4,o[c++]=255&e);1===h&&(e=s[t.charCodeAt(i)]<<10|s[t.charCodeAt(i+1)]<<4|s[t.charCodeAt(i+2)]>>2,o[c++]=e>>8&255,o[c++]=255&e);return o},e.fromByteArray=function(t){for(var e,i=t.length,s=i%3,n=[],r=0,h=i-s;r<h;r+=16383)n.push(c(t,r,r+16383>h?h:r+16383));1===s?(e=t[i-1],n.push(a[e>>2]+a[e<<4&63]+"==")):2===s&&(e=(t[i-2]<<8)+t[i-1],n.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"="));return n.join("")};for(var a=[],s=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,o=r.length;h<o;++h)a[h]=r[h],s[r.charCodeAt(h)]=h;function f(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t,e,i){for(var s,n,r=[],h=e;h<i;h+=3)s=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(255&t[h+2]),r.push(a[(n=s)>>18&63]+a[n>>12&63]+a[n>>6&63]+a[63&n]);return r.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,a,s){var n,r,h=8*s-a-1,o=(1<<h)-1,f=o>>1,c=-7,l=i?s-1:0,u=i?-1:1,d=t[e+l];for(l+=u,n=d&(1<<-c)-1,d>>=-c,c+=h;c>0;n=256*n+t[e+l],l+=u,c-=8);for(r=n&(1<<-c)-1,n>>=-c,c+=a;c>0;r=256*r+t[e+l],l+=u,c-=8);if(0===n)n=1-f;else{if(n===o)return r?NaN:1/0*(d?-1:1);r+=Math.pow(2,a),n-=f}return(d?-1:1)*r*Math.pow(2,n-a)},e.write=function(t,e,i,a,s,n){var r,h,o,f=8*n-s-1,c=(1<<f)-1,l=c>>1,u=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=a?0:n-1,b=a?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,r=c):(r=Math.floor(Math.log(e)/Math.LN2),e*(o=Math.pow(2,-r))<1&&(r--,o*=2),(e+=r+l>=1?u/o:u*Math.pow(2,1-l))*o>=2&&(r++,o/=2),r+l>=c?(h=0,r=c):r+l>=1?(h=(e*o-1)*Math.pow(2,s),r+=l):(h=e*Math.pow(2,l-1)*Math.pow(2,s),r=0));s>=8;t[i+d]=255&h,d+=b,h/=256,s-=8);for(r=r<<s|h,f+=s;f>0;t[i+d]=255&r,d+=b,r/=256,f-=8);t[i+d-b]|=128*p}},function(t,e){},function(t,e,i){"use strict";var a=i(9).Buffer,s=i(26);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},t.prototype.concat=function(t){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var e,i,s,n=a.allocUnsafe(t>>>0),r=this.head,h=0;r;)e=r.data,i=n,s=h,e.copy(i,s),h+=r.data.length,r=r.next;return n},t}(),s&&s.inspect&&s.inspect.custom&&(t.exports.prototype[s.inspect.custom]=function(){var t=s.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,i){(function(t){var a=void 0!==t&&t||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new n(s.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new n(s.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(28),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(2))},function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var a,s,n,r,h,o=1,f={},c=!1,l=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?a=function(t){e.nextTick((function(){b(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){b(t.data)},a=function(t){n.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(s=l.documentElement,a=function(t){var e=l.createElement("script");e.onreadystatechange=function(){b(t),e.onreadystatechange=null,s.removeChild(e),e=null},s.appendChild(e)}):a=function(t){setTimeout(b,0,t)}:(r="setImmediate$"+Math.random()+"$",h=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&b(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",h,!1):t.attachEvent("onmessage",h),a=function(e){t.postMessage(r+e,"*")}),u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var s={callback:t,args:e};return f[o]=s,a(o),o++},u.clearImmediate=d}function d(t){delete f[t]}function b(t){if(c)setTimeout(b,0,t);else{var e=f[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(2),i(5))},function(t,e,i){(function(e){function i(t){try{if(!e.localStorage)return!1}catch(t){return!1}var i=e.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=function(t,e){if(i("noDeprecation"))return t;var a=!1;return function(){if(!a){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),a=!0}return t.apply(this,arguments)}}}).call(this,i(2))},function(t,e,i){var a=i(10),s=a.Buffer;function n(t,e){for(var i in t)e[i]=t[i]}function r(t,e,i){return s(t,e,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=a:(n(a,e),e.Buffer=r),r.prototype=Object.create(s.prototype),n(s,r),r.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,i)},r.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var a=s(t);return void 0!==e?"string"==typeof i?a.fill(e,i):a.fill(e):a.fill(0),a},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a.SlowBuffer(t)}},function(t,e,i){"use strict";t.exports=n;var a=i(17),s=Object.create(i(3));function n(t){if(!(this instanceof n))return new n(t);a.call(this,t)}s.inherits=i(1),s.inherits(n,a),n.prototype._transform=function(t,e,i){i(null,t)}},function(t,e,i){t.exports=i(11)},function(t,e,i){t.exports=i(0)},function(t,e,i){t.exports=i(8).Transform},function(t,e,i){t.exports=i(8).PassThrough},function(t,e,i){const a=i(7);t.exports=class{constructor(t,e){this.samples=t,(e=e||{}).x=e.x||0,e.y=e.y||0,e.size=e.size||300,e.traceWidth=e.traceWidth||3,e.palette=e.palette||"cb-RdYlGn",e.locationSize=e.locationSize||7,e.locationColor=e.locationColor||"#fff",e.locationBorderColor=e.locationBorderColor||"#000",this.options=e,this.clrs=a(e.palette,10),this.altMin=Math.min(...t.map(t=>t.alt)),this.altMax=Math.max(...t.map(t=>t.alt)),this.distMin=Math.min(...t.map(t=>t.dist)),this.distMax=Math.max(...t.map(t=>t.dist)),this.xScale=(this.distMax-this.distMin)/e.size,this.yScale=(this.altMax-this.altMin)/e.size}drawTrace(t){this.samples.forEach((e,i)=>{const{x:a,y:s}=this.getLocation(e),n=this.getColor(e);t.fillStyle=`#${n}`,t.fillRect(a-1,s-1,3,3)})}drawLocation(t,e){if(!e)return;const{x:i,y:a}=this.getLocation(e);t.beginPath(),t.arc(i,a,this.options.locationSize,0,2*Math.PI),t.closePath(),t.fillStyle=this.options.locationColor,t.fill(),t.fillStyle=this.options.locationBorderColor,t.stroke();const s=this.getColor(e);t.fillStyle=`#${s}`,t.font="35px Arial",t.fillText(`${e.alt.toFixed(0)}m`,i-125,a+5)}getColor(t){const e=Math.max(9-Math.floor(t.speed3d_kph/5),0);return this.clrs[e]}getLocation(t){return{x:this.options.x+(t.dist-this.distMin)/this.xScale,y:this.options.size+this.options.y-(t.alt-this.altMin)/this.yScale}}}},function(t,e,i){const a=i(7);t.exports=class{constructor(t,e){this.samples=t,(e=e||{}).x=e.x||0,e.y=e.y||0,e.length=e.length||250,e.height=e.height||30,e.color=e.color||"#000",e.palette=e.palette||"cb-RdYlGn",e.font=e.font||"35px Arial",this.options=e,this.clrs=a(e.palette,10),this.maxG=0,t.forEach((t,e)=>{const i=t.value;t.abs=Math.sqrt(i[0]**2+i[1]**2+i[2]**2),this.maxG=Math.max(this.maxG,t.abs)})}drawBox(t,e){const i=Math.max(9-Math.floor(e.abs/5),0),a=this.clrs[i];t.beginPath(),t.fillStyle=`#${a}`,t.font=this.options.font,t.fillText(`${(e.abs/9.8).toFixed(1)}G`,this.options.x+this.options.length+10,this.options.y+this.options.height),t.fillRect(this.options.x,this.options.y,this.options.length*e.abs/this.maxG,this.options.height),t.closePath(),t.beginPath(),t.fillStyle=this.options.color,t.rect(this.options.x,this.options.y,this.options.length,this.options.height),t.stroke()}drawCircle(t,e){const i=(this.options.length+50)/2;t.fillStyle=this.options.color,t.beginPath(),t.arc(this.options.x+i,this.options.y-i,i,0,2*Math.PI),t.stroke(),t.beginPath(),t.arc(this.options.x+i,this.options.y-i,2*i/3,0,2*Math.PI),t.stroke(),t.beginPath(),t.arc(this.options.x+i,this.options.y-i,i/3,0,2*Math.PI),t.stroke(),t.closePath(),t.moveTo(this.options.x,this.options.y-i),t.lineTo(this.options.x+2*i,this.options.y-i),t.moveTo(this.options.x+i,this.options.y),t.lineTo(this.options.x+i,this.options.y-2*i),t.stroke(),t.closePath();const a=Math.max(9-Math.floor(e.abs/5),0),s=this.clrs[a];t.fillStyle=`#${s}`;const n=e.value,r=n[1]/(3*9.8),h=-n[0]/(3*9.8);t.beginPath(),t.arc(this.options.x+i+r*i,this.options.y-i+h*i,25,0,2*Math.PI),t.fill(),t.closePath()}}},function(t,e,i){const a=i(40),s=i(7),n=new a.Proj("EPSG:4326"),r=new a.Proj("EPSG:3785");t.exports=class{constructor(t,e){this.samples=t,(e=e||{}).x=e.x||0,e.y=e.y||0,e.size=300|e.size,e.traceWidth=e.traceWidth||3,e.palette=e.palette||"cb-RdYlGn",e.locationSize=e.locationSize||7,e.locationColor=e.locationColor||"#fff",e.locationBorderColor=e.locationBorderColor||"#000",this.options=e,this.clrs=s(e.palette,10),t.forEach((e,i)=>{const s=e.value;if(s[0]&&s[1]){const h=a.toPoint([s[1],s[0]]),o=a.transform(n,r,h);if(e.mercator=o,0!==i&&t[i-1].refPoint){const a=e.mercator.x-t[i-1].refPoint.x,s=e.mercator.y-t[i-1].refPoint.y;e.refDist=Math.sqrt(a**2+s**2),e.refDist>=10?(e.totalDist=e.refDist+t[i-1].totalDist,e.refPoint=e.mercator,e.refDist=0):(e.refPoint=t[i-1].refPoint,e.totalDist=t[i-1].totalDist),e.dist=e.totalDist+e.refDist}else e.dist=0,e.totalDist=0,e.refDist=0,e.refPoint=e.mercator}});const i={xMin:Math.min(...t.map(t=>t.mercator?t.mercator.x:0)),xMax:Math.max(...t.map(t=>t.mercator?t.mercator.x:0)),yMin:Math.min(...t.map(t=>t.mercator?t.mercator.y:0)),yMax:Math.max(...t.map(t=>t.mercator?t.mercator.y:0)),totalDist:Math.max(...t.map(t=>t.dist?t.dist:0))};i.xScale=(i.xMax-i.xMin)/e.size,i.yScale=(i.yMax-i.yMin)/e.size,i.scale=Math.max(i.xScale,i.yScale),i.xPad=(e.size-(i.xMax-i.xMin)/i.scale)/2,i.yPad=(e.size-(i.yMax-i.yMin)/i.scale)/2,this.gpsScale=i}drawTrace(t){this.samples.forEach((e,i)=>{if(!e.mercator)return;const{x:a,y:s}=this.getLocation(e),n=Math.max(9-Math.floor(e.speed3d_kph/5),0),r=this.clrs[n];t.fillStyle=`#${r}`,t.fillRect(a-1,s-1,3,3)})}drawLocation(t,e){if(!e||!e.mercator)return;const{x:i,y:a}=this.getLocation(e);t.beginPath(),t.arc(i,a,this.options.locationSize,0,2*Math.PI),t.closePath(),t.fillStyle=this.options.locationColor,t.fill(),t.fillStyle=this.options.locationBorderColor,t.stroke()}getLocation(t){const e=this.options.size+this.options.y-this.gpsScale.yPad-(t.mercator.y-this.gpsScale.yMin)/this.gpsScale.scale;return{x:this.gpsScale.xPad+this.options.x+(t.mercator.x-this.gpsScale.xMin)/this.gpsScale.scale,y:e}}}},function(t,e,i){const a=i(7);t.exports=class{constructor(t,e){this.samples=t,(e=e||{}).x=e.x||0,e.y=e.y||0,e.length=e.length||250,e.height=e.height||30,e.color=e.color||"#000",e.palette=e.palette||"cb-RdYlGn",this.options=e,this.clrs=a(e.palette,10),this.maxSpeed=Math.max(...t.map(t=>t.speed3d_kph))}drawBox(t,e){if(!e)return;const i=Math.max(9-Math.floor(e.speed3d_kph/5),0),a=this.clrs[i];t.beginPath(),t.fillStyle=`#${a}`,t.font="35px Arial",t.fillText(`${e.speed3d_kph.toFixed(1)} km/h`,this.options.x+this.options.length+10,this.options.y+this.options.height),t.fillRect(this.options.x,this.options.y,this.options.length*e.speed3d_kph/this.maxSpeed,this.options.height),t.closePath(),t.beginPath(),t.fillStyle=this.options.color,t.rect(this.options.x,this.options.y,this.options.length,this.options.height),t.stroke()}}},function(t,e,i){"use strict";i.r(e);var a=484813681109536e-20,s=Math.PI/2,n=.017453292519943295,r=57.29577951308232,h=Math.PI/4,o=2*Math.PI,f=3.14159265359,c={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},l={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},u=/[\s_\-\/\(\)]/g;function d(t,e){if(t[e])return t[e];for(var i,a=Object.keys(t),s=e.toLowerCase().replace(u,""),n=-1;++n<a.length;)if((i=a[n]).toLowerCase().replace(u,"")===s)return t[i]}var b=function(t){var e,i,a,s={},r=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t}),{}),h={proj:"projName",datum:"datumCode",rf:function(t){s.rf=parseFloat(t)},lat_0:function(t){s.lat0=t*n},lat_1:function(t){s.lat1=t*n},lat_2:function(t){s.lat2=t*n},lat_ts:function(t){s.lat_ts=t*n},lon_0:function(t){s.long0=t*n},lon_1:function(t){s.long1=t*n},lon_2:function(t){s.long2=t*n},alpha:function(t){s.alpha=parseFloat(t)*n},lonc:function(t){s.longc=t*n},x_0:function(t){s.x0=parseFloat(t)},y_0:function(t){s.y0=parseFloat(t)},k_0:function(t){s.k0=parseFloat(t)},k:function(t){s.k0=parseFloat(t)},a:function(t){s.a=parseFloat(t)},b:function(t){s.b=parseFloat(t)},r_a:function(){s.R_A=!0},zone:function(t){s.zone=parseInt(t,10)},south:function(){s.utmSouth=!0},towgs84:function(t){s.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){s.to_meter=parseFloat(t)},units:function(t){s.units=t;var e=d(l,t);e&&(s.to_meter=e.to_meter)},from_greenwich:function(t){s.from_greenwich=t*n},pm:function(t){var e=d(c,t);s.from_greenwich=(e||parseFloat(t))*n},nadgrids:function(t){"@null"===t?s.datumCode="none":s.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(s.axis=t)}};for(e in r)i=r[e],e in h?"function"==typeof(a=h[e])?a(i):s[a]=i:s[e]=i;return"string"==typeof s.datumCode&&"WGS84"!==s.datumCode&&(s.datumCode=s.datumCode.toLowerCase()),s},p=function(t){return new _(t).output()},m=/\s/,y=/[A-Za-z]/,M=/[A-Za-z84]/,g=/[,\]]/,v=/[\d\.E\-\+]/;function _(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function w(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var a=e?{}:t,s=i.reduce((function(t,e){return x(e,t),t}),a);e&&(t[e]=s)}function x(t,e){if(Array.isArray(t)){var i,a=t.shift();if("PARAMETER"===a&&(a=t.shift()),1===t.length)return Array.isArray(t[0])?(e[a]={},void x(t[0],e[a])):void(e[a]=t[0]);if(t.length)if("TOWGS84"!==a)switch(Array.isArray(a)||(e[a]={}),a){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[a]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&x(t[2],e[a]));case"SPHEROID":case"ELLIPSOID":return e[a]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&x(t[3],e[a]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void w(e,a,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return x(t,e[a]);return w(e,a,t)}else e[a]=t;else e[a]=!0}else e[t]=!0}_.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;m.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},_.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(g.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},_.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},_.prototype.number=function(t){if(!v.test(t)){if(g.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},_.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},_.prototype.keyword=function(t){if(M.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!g.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},_.prototype.neutral=function(t){if(y.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(v.test(t))return this.word=t,void(this.state=3);if(!g.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},_.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function S(t){return.017453292519943295*t}var E=function(t){var e=p(t),i=e.shift(),a=e.shift();e.unshift(["name",a]),e.unshift(["type",i]);var s={};return x(e,s),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function i(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",S],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",S],["x0","false_easting",i],["y0","false_northing",i],["long0","central_meridian",S],["lat0","latitude_of_origin",S],["lat0","standard_parallel_1",S],["lat1","standard_parallel_1",S],["lat2","standard_parallel_2",S],["azimuth","Azimuth"],["alpha","azimuth",S],["srsCode","name"]].forEach((function(e){return i=t,s=(a=e)[0],n=a[1],void(!(s in i)&&n in i&&(i[s]=i[n],3===a.length&&(i[s]=a[2](i[s]))));var i,a,s,n})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=S(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(s),s};function P(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?P[t]=b(arguments[1]):P[t]=E(arguments[1]):P[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?P.apply(e,t):P(t)}));if("string"==typeof t){if(t in P)return P[t]}else"EPSG"in t?P["EPSG:"+t.EPSG]=t:"ESRI"in t?P["ESRI:"+t.ESRI]=t:"IAU2000"in t?P["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(P);var C=P;var k=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var A=["3857","900913","3785","102113"];var T=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in C}(t))return C[t];if(function(t){return k.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=E(t);if(function(t){var e=d(t,"authority");if(e){var i=d(e,"epsg");return i&&A.indexOf(i)>-1}}(e))return C["EPSG:3857"];var i=function(t){var e=d(t,"extension");if(e)return d(e,"proj4")}(e);return i?b(i):e}return function(t){return"+"===t[0]}(t)?b(t):void 0},R=function(t,e){var i,a;if(t=t||{},!e)return t;for(a in e)void 0!==(i=e[a])&&(t[a]=i);return t},O=function(t,e,i){var a=t*e;return i/Math.sqrt(1-a*a)},N=function(t){return t<0?-1:1},I=function(t){return Math.abs(t)<=f?t:t-N(t)*o},q=function(t,e,i){var a=t*i,n=.5*t;return a=Math.pow((1-a)/(1+a),n),Math.tan(.5*(s-e))/a},L=function(t,e){for(var i,a,n=.5*t,r=s-2*Math.atan(e),h=0;h<=15;h++)if(i=t*Math.sin(r),r+=a=s-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-r,Math.abs(a)<=1e-10)return r;return-9999};function j(t){return t}var B=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=O(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,i,a=t.x,n=t.y;if(n*r>90&&n*r<-90&&a*r>180&&a*r<-180)return null;if(Math.abs(Math.abs(n)-s)<=1e-10)return null;if(this.sphere)e=this.x0+this.a*this.k0*I(a-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*n));else{var o=Math.sin(n),f=q(this.e,n,o);e=this.x0+this.a*this.k0*I(a-this.long0),i=this.y0-this.a*this.k0*Math.log(f)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,a=t.x-this.x0,n=t.y-this.y0;if(this.sphere)i=s-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var r=Math.exp(-n/(this.a*this.k0));if(-9999===(i=L(this.e,r)))return null}return e=I(this.long0+a/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:j,inverse:j,names:["longlat","identity"]}],D={},U=[];function G(t,e){var i=U.length;return t.names?(U[i]=t,t.names.forEach((function(t){D[t.toLowerCase()]=i})),this):(console.log(e),!0)}var z={start:function(){B.forEach(G)},add:G,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==D[e]&&U[D[e]]?U[D[e]]:void 0}},F={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},W=F.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};F.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Y={};Y.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Y.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Y.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Y.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Y.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Y.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Y.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Y.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Y.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Y.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Y.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Y.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Y.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Y.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Y.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Y.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Y.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var Q=function(t,e,i,s,n,r){var h={};return h.datum_type=void 0===t||"none"===t?5:4,e&&(h.datum_params=e.map(parseFloat),0===h.datum_params[0]&&0===h.datum_params[1]&&0===h.datum_params[2]||(h.datum_type=1),h.datum_params.length>3&&(0===h.datum_params[3]&&0===h.datum_params[4]&&0===h.datum_params[5]&&0===h.datum_params[6]||(h.datum_type=2,h.datum_params[3]*=a,h.datum_params[4]*=a,h.datum_params[5]*=a,h.datum_params[6]=h.datum_params[6]/1e6+1))),h.a=i,h.b=s,h.es=n,h.ep2=r,h};function H(t,e){if(!(this instanceof H))return new H(t);e=e||function(t){if(t)throw t};var i=T(t);if("object"==typeof i){var a=H.projections.get(i.projName);if(a){if(i.datumCode&&"none"!==i.datumCode){var s=d(Y,i.datumCode);s&&(i.datum_params=s.towgs84?s.towgs84.split(","):null,i.ellps=s.ellipse,i.datumName=s.datumName?s.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84";var n,r,h,o,f,c,l,u=function(t,e,i,a,s){if(!t){var n=d(F,a);n||(n=W),t=n.a,e=n.b,i=n.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<1e-10)&&(s=!0,e=t),{a:t,b:e,rf:i,sphere:s}}(i.a,i.b,i.rf,i.ellps,i.sphere),b=(n=u.a,r=u.b,u.rf,h=i.R_A,c=((o=n*n)-(f=r*r))/o,l=0,h?(o=(n*=1-c*(.16666666666666666+c*(.04722222222222222+.022156084656084655*c)))*n,c=0):l=Math.sqrt(c),{es:c,e:l,ep2:(o-f)/f}),p=i.datum||Q(i.datumCode,i.datum_params,u.a,u.b,b.es,b.ep2);R(this,i),R(this,a),this.a=u.a,this.b=u.b,this.rf=u.rf,this.sphere=u.sphere,this.es=b.es,this.e=b.e,this.ep2=b.ep2,this.datum=p,this.init(),e(null,this)}else e(t)}else e(t)}H.projections=z,H.projections.start();var X=H;function J(t,e,i){var a,n,r,h,o=t.x,f=t.y,c=t.z?t.z:0;if(f<-s&&f>-1.001*s)f=-s;else if(f>s&&f<1.001*s)f=s;else{if(f<-s)return{x:-1/0,y:-1/0,z:t.z};if(f>s)return{x:1/0,y:1/0,z:t.z}}return o>Math.PI&&(o-=2*Math.PI),n=Math.sin(f),h=Math.cos(f),r=n*n,{x:((a=i/Math.sqrt(1-e*r))+c)*h*Math.cos(o),y:(a+c)*h*Math.sin(o),z:(a*(1-e)+c)*n}}function K(t,e,i,a){var n,r,h,o,f,c,l,u,d,b,p,m,y,M,g,v=t.x,_=t.y,w=t.z?t.z:0;if(n=Math.sqrt(v*v+_*_),r=Math.sqrt(v*v+_*_+w*w),n/i<1e-12){if(M=0,r/i<1e-12)return s,g=-a,{x:t.x,y:t.y,z:t.z}}else M=Math.atan2(_,v);h=w/r,u=(o=n/r)*(1-e)*(f=1/Math.sqrt(1-e*(2-e)*o*o)),d=h*f,y=0;do{y++,c=e*(l=i/Math.sqrt(1-e*d*d))/(l+(g=n*u+w*d-l*(1-e*d*d))),m=(p=h*(f=1/Math.sqrt(1-c*(2-c)*o*o)))*u-(b=o*(1-c)*f)*d,u=b,d=p}while(m*m>1e-24&&y<30);return{x:M,y:Math.atan(p/Math.abs(b)),z:g}}function V(t){return 1===t||2===t}var Z=function(t,e,i){return function(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}(t,e)||5===t.datum_type||5===e.datum_type?i:t.es!==e.es||t.a!==e.a||V(t.datum_type)||V(e.datum_type)?(i=J(i,t.es,t.a),V(t.datum_type)&&(i=function(t,e,i){if(1===e)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(2===e){var a=i[0],s=i[1],n=i[2],r=i[3],h=i[4],o=i[5],f=i[6];return{x:f*(t.x-o*t.y+h*t.z)+a,y:f*(o*t.x+t.y-r*t.z)+s,z:f*(-h*t.x+r*t.y+t.z)+n}}}(i,t.datum_type,t.datum_params)),V(e.datum_type)&&(i=function(t,e,i){if(1===e)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(2===e){var a=i[0],s=i[1],n=i[2],r=i[3],h=i[4],o=i[5],f=i[6],c=(t.x-a)/f,l=(t.y-s)/f,u=(t.z-n)/f;return{x:c+o*l-h*u,y:-o*c+l+r*u,z:h*c-r*l+u}}}(i,e.datum_type,e.datum_params)),K(i,e.es,e.a,e.b)):i},$=function(t,e,i){var a,s,n,r=i.x,h=i.y,o=i.z||0,f={};for(n=0;n<3;n++)if(!e||2!==n||void 0!==i.z)switch(0===n?(a=r,s="x"):1===n?(a=h,s="y"):(a=o,s="z"),t.axis[n]){case"e":f[s]=a;break;case"w":f[s]=-a;break;case"n":f[s]=a;break;case"s":f[s]=-a;break;case"u":void 0!==i[s]&&(f.z=a);break;case"d":void 0!==i[s]&&(f.z=-a);break;default:return null}return f},tt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e};function et(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function it(t,e,i){var a;return Array.isArray(i)&&(i=tt(i)),function(t){et(t.x),et(t.y)}(i),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(i=it(t,a=new X("WGS84"),i),t=a),"enu"!==t.axis&&(i=$(t,!1,i)),"longlat"===t.projName?i={x:i.x*n,y:i.y*n,z:i.z||0}:(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),i=t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=Z(t.datum,e.datum,i),e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),"longlat"===e.projName?i={x:i.x*r,y:i.y*r,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),"enu"!==e.axis?$(e,!0,i):i}var at=X("WGS84");function st(t,e,i){var a,s,n;return Array.isArray(i)?(a=it(t,e,i)||{x:NaN,y:NaN},i.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof a.z?[a.x,a.y,a.z].concat(i.splice(3)):[a.x,a.y,i[2]].concat(i.splice(3)):[a.x,a.y].concat(i.splice(2)):[a.x,a.y]):(s=it(t,e,i),2===(n=Object.keys(i)).length||n.forEach((function(a){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===a||"y"===a||"z"===a)return}else if("x"===a||"y"===a)return;s[a]=i[a]})),s)}function nt(t){return t instanceof X?t:t.oProj?t.oProj:X(t)}var rt=function(t,e,i){t=nt(t);var a,s=!1;return void 0===e?(e=t,t=at,s=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=at,s=!0),e=nt(e),i?st(t,e,i):(a={forward:function(i){return st(t,e,i)},inverse:function(i){return st(e,t,i)}},s&&(a.oProj=e),a)},ht=73,ot=79,ft={forward:ct,inverse:function(t){var e=bt(yt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:lt};function ct(t,e){return e=e||5,function(t,e){var i="00000"+t.easting,a="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(d=t.easting,b=t.northing,p=t.zoneNumber,m=mt(p),y=Math.floor(d/1e5),M=Math.floor(b/1e5)%20,s=y,n=M,r=m,h=r-1,o="AJSAJS".charCodeAt(h),f="AFAFAF".charCodeAt(h),c=o+s-1,l=f+n,u=!1,c>90&&(c=c-90+65-1,u=!0),(c===ht||o<ht&&c>ht||(c>ht||o<ht)&&u)&&c++,(c===ot||o<ot&&c>ot||(c>ot||o<ot)&&u)&&++c===ht&&c++,c>90&&(c=c-90+65-1),l>86?(l=l-86+65-1,u=!0):u=!1,(l===ht||f<ht&&l>ht||(l>ht||f<ht)&&u)&&l++,(l===ot||f<ot&&l>ot||(l>ot||f<ot)&&u)&&++l===ht&&l++,l>86&&(l=l-86+65-1),String.fromCharCode(c)+String.fromCharCode(l))+i.substr(i.length-5,e)+a.substr(a.length-5,e);var s,n,r,h,o,f,c,l,u;var d,b,p,m,y,M}(function(t){var e,i,a,s,n,r,h,o=t.lat,f=t.lon,c=6378137,l=ut(o),u=ut(f);h=Math.floor((f+180)/6)+1,180===f&&(h=60);o>=56&&o<64&&f>=3&&f<12&&(h=32);o>=72&&o<84&&(f>=0&&f<9?h=31:f>=9&&f<21?h=33:f>=21&&f<33?h=35:f>=33&&f<42&&(h=37));r=ut(6*(h-1)-180+3),.006739496752268451,e=c/Math.sqrt(1-.00669438*Math.sin(l)*Math.sin(l)),i=Math.tan(l)*Math.tan(l),a=.006739496752268451*Math.cos(l)*Math.cos(l),s=Math.cos(l)*(u-r),n=c*(.9983242984503243*l-.002514607064228144*Math.sin(2*l)+2639046602129982e-21*Math.sin(4*l)-3.418046101696858e-9*Math.sin(6*l));var d=.9996*e*(s+(1-i+a)*s*s*s/6+(5-18*i+i*i+72*a-.39089081163157013)*s*s*s*s*s/120)+5e5,b=.9996*(n+e*Math.tan(l)*(s*s/2+(5-i+9*a+4*a*a)*s*s*s*s/24+(61-58*i+i*i+600*a-2.2240339282485886)*s*s*s*s*s*s/720));o<0&&(b+=1e7);return{northing:Math.round(b),easting:Math.round(d),zoneNumber:h,zoneLetter:pt(o)}}({lat:t[1],lon:t[0]}),e)}function lt(t){var e=bt(yt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function ut(t){return t*(Math.PI/180)}function dt(t){return t/Math.PI*180}function bt(t){var e=t.northing,i=t.easting,a=t.zoneLetter,s=t.zoneNumber;if(s<0||s>60)return null;var n,r,h,o,f,c,l,u,d=6378137,b=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),p=i-5e5,m=e;a<"N"&&(m-=1e7),c=6*(s-1)-180+3,u=(l=m/.9996/6367449.145945056)+(3*b/2-27*b*b*b/32)*Math.sin(2*l)+(21*b*b/16-55*b*b*b*b/32)*Math.sin(4*l)+151*b*b*b/96*Math.sin(6*l),n=d/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),r=Math.tan(u)*Math.tan(u),h=.006739496752268451*Math.cos(u)*Math.cos(u),o=.99330562*d/Math.pow(1-.00669438*Math.sin(u)*Math.sin(u),1.5),f=p/(.9996*n);var y=u-n*Math.tan(u)/o*(f*f/2-(5+3*r+10*h-4*h*h-.06065547077041606)*f*f*f*f/24+(61+90*r+298*h+45*r*r-1.6983531815716497-3*h*h)*f*f*f*f*f*f/720);y=dt(y);var M,g=(f-(1+2*r+h)*f*f*f/6+(5-2*h+28*r-3*h*h+.05391597401814761+24*r*r)*f*f*f*f*f/120)/Math.cos(u);if(g=c+dt(g),t.accuracy){var v=bt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});M={top:v.lat,right:v.lon,bottom:y,left:g}}else M={lat:y,lon:g};return M}function pt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function mt(t){var e=t%6;return 0===e&&(e=6),e}function yt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,a=null,s="",n=0;!/[A-Z]/.test(e=t.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+t;s+=e,n++}var r=parseInt(s,10);if(0===n||n+3>i)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(n++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+t;a=t.substring(n,n+=2);for(var o=mt(r),f=function(t,e){var i="AJSAJS".charCodeAt(e-1),a=1e5,s=!1;for(;i!==t.charCodeAt(0);){if(++i===ht&&i++,i===ot&&i++,i>90){if(s)throw"Bad character: "+t;i=65,s=!0}a+=1e5}return a}(a.charAt(0),o),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i="AFAFAF".charCodeAt(e-1),a=0,s=!1;for(;i!==t.charCodeAt(0);){if(++i===ht&&i++,i===ot&&i++,i>86){if(s)throw"Bad character: "+t;i=65,s=!0}a+=1e5}return a}(a.charAt(1),o);c<Mt(h);)c+=2e6;var l=i-n;if(l%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var u,d,b,p=l/2,m=0,y=0;return p>0&&(u=1e5/Math.pow(10,p),d=t.substring(n,n+p),m=parseFloat(d)*u,b=t.substring(n+p),y=parseFloat(b)*u),{easting:m+f,northing:y+c,zoneLetter:h,zoneNumber:r,accuracy:u}}function Mt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function gt(t,e,i){if(!(this instanceof gt))return new gt(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var a=t.split(",");this.x=parseFloat(a[0],10),this.y=parseFloat(a[1],10),this.z=parseFloat(a[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}gt.fromMGRS=function(t){return new gt(lt(t))},gt.prototype.toMGRS=function(t){return ct([this.x,this.y],t)};var vt=gt,_t=.01068115234375,wt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*_t))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*_t)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e},xt=function(t,e,i,a){return i*=e,e*=e,a[0]*t-i*(a[1]+e*(a[2]+e*(a[3]+e*a[4])))},St=function(t,e,i){for(var a=1/(1-e),s=t,n=20;n;--n){var r=Math.sin(s),h=1-e*r*r;if(s-=h=(xt(s,r,Math.cos(s),i)-t)*(h*Math.sqrt(h))*a,Math.abs(h)<1e-10)return s}return s};var Et={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=wt(this.es),this.ml0=xt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,a,s=t.x,n=t.y,r=I(s-this.long0),h=Math.sin(n),o=Math.cos(n);if(this.es){var f=o*r,c=Math.pow(f,2),l=this.ep2*Math.pow(o,2),u=Math.pow(l,2),d=Math.abs(o)>1e-10?Math.tan(n):0,b=Math.pow(d,2),p=Math.pow(b,2);e=1-this.es*Math.pow(h,2),f/=Math.sqrt(e);var m=xt(n,h,o,this.en);i=this.a*(this.k0*f*(1+c/6*(1-b+l+c/20*(5-18*b+p+14*l-58*b*l+c/42*(61+179*p-p*b-479*b)))))+this.x0,a=this.a*(this.k0*(m-this.ml0+h*r*f/2*(1+c/12*(5-b+9*l+4*u+c/30*(61+p-58*b+270*l-330*b*l+c/56*(1385+543*p-p*b-3111*b))))))+this.y0}else{var y=o*Math.sin(r);if(Math.abs(Math.abs(y)-1)<1e-10)return 93;if(i=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,a=o*Math.cos(r)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(a))>=1){if(y-1>1e-10)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=i,t.y=a,t},inverse:function(t){var e,i,a,n,r=(t.x-this.x0)*(1/this.a),h=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+h/this.k0,i=St(e,this.es,this.en),Math.abs(i)<s){var o=Math.sin(i),f=Math.cos(i),c=Math.abs(f)>1e-10?Math.tan(i):0,l=this.ep2*Math.pow(f,2),u=Math.pow(l,2),d=Math.pow(c,2),b=Math.pow(d,2);e=1-this.es*Math.pow(o,2);var p=r*Math.sqrt(e)/this.k0,m=Math.pow(p,2);a=i-(e*=c)*m/(1-this.es)*.5*(1-m/12*(5+3*d-9*l*d+l-4*u-m/30*(61+90*d-252*l*d+45*b+46*l-m/56*(1385+3633*d+4095*b+1574*b*d)))),n=I(this.long0+p*(1-m/6*(1+2*d+l-m/20*(5+28*d+24*b+8*l*d+6*l-m/42*(61+662*d+1320*b+720*b*d))))/f)}else a=s*N(h),n=0;else{var y=Math.exp(r/this.k0),M=.5*(y-1/y),g=this.lat0+h/this.k0,v=Math.cos(g);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(M,2))),a=Math.asin(e),h<0&&(a=-a),n=0===M&&0===v?0:I(Math.atan2(M,v)+this.long0)}return t.x=n,t.y=a,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Pt=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Ct=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),a=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(a,2))},kt=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}(e*(1+e/(Ct(1,e)+1))),t<0?-e:e},At=function(t,e){for(var i,a=2*Math.cos(2*e),s=t.length-1,n=t[s],r=0;--s>=0;)i=a*n-r+t[s],r=n,n=i;return e+i*Math.sin(2*e)},Tt=function(t,e,i){for(var a,s,n=Math.sin(e),r=Math.cos(e),h=Pt(i),o=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(i),f=2*r*o,c=-2*n*h,l=t.length-1,u=t[l],d=0,b=0,p=0;--l>=0;)a=b,s=d,u=f*(b=u)-a-c*(d=p)+t[l],p=c*b-s+f*d;return[(f=n*o)*u-(c=r*h)*p,f*p+c*u]};var Rt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=-.03233083094085698*i,this.gtu[5]=.6650675310896665*i;var a=At(this.cbg,this.lat0);this.Zb=-this.Qn*(a+function(t,e){for(var i,a=2*Math.cos(e),s=t.length-1,n=t[s],r=0;--s>=0;)i=a*n-r+t[s],r=n,n=i;return Math.sin(e)*i}(this.gtu,2*a))},forward:function(t){var e=I(t.x-this.long0),i=t.y;i=At(this.cbg,i);var a=Math.sin(i),s=Math.cos(i),n=Math.sin(e),r=Math.cos(e);i=Math.atan2(a,r*s),e=Math.atan2(n*s,Ct(a,s*r)),e=kt(Math.tan(e));var h,o,f=Tt(this.gtu,2*i,2*e);return i+=f[0],e+=f[1],Math.abs(e)<=2.623395162778?(h=this.a*(this.Qn*e)+this.x0,o=this.a*(this.Qn*i+this.Zb)+this.y0):(h=1/0,o=1/0),t.x=h,t.y=o,t},inverse:function(t){var e,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(s=(s-this.Zb)/this.Qn,a/=this.Qn,Math.abs(a)<=2.623395162778){var n=Tt(this.utg,2*s,2*a);s+=n[0],a+=n[1],a=Math.atan(Pt(a));var r=Math.sin(s),h=Math.cos(s),o=Math.sin(a),f=Math.cos(a);s=Math.atan2(r*f,Ct(o,f*h)),a=Math.atan2(o,f*h),e=I(a+this.long0),i=At(this.cgb,s)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]};var Ot={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(I(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Rt.init.apply(this),this.forward=Rt.forward,this.inverse=Rt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Nt=function(t,e){return Math.pow((1-t)/(1+t),e)};var It={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+h)/(Math.pow(Math.tan(.5*this.lat0+h),this.C)*Nt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+h),this.C)*Nt(this.e*Math.sin(i),this.ratexp))-s,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,a=Math.pow(Math.tan(.5*i+h)/this.K,1/this.C),n=20;n>0&&(i=2*Math.atan(a*Nt(this.e*Math.sin(t.y),-.5*this.e))-s,!(Math.abs(i-t.y)<1e-14));--n)t.y=i;return n?(t.x=e,t.y=i,t):null},names:["gauss"]};var qt={init:function(){It.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,a,s;return t.x=I(t.x-this.long0),It.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),a=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*a),t.x=s*i*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*i*a),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,a,s,n;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,n=Math.sqrt(t.x*t.x+t.y*t.y)){var r=2*Math.atan2(n,this.R2);e=Math.sin(r),i=Math.cos(r),s=Math.asin(i*this.sinc0+t.y*e*this.cosc0/n),a=Math.atan2(t.x*e,n*this.cosc0*i-t.y*this.sinc0*e)}else s=this.phic0,a=0;return t.x=a,t.y=s,It.inverse.apply(this,[t]),t.x=I(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var Lt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+N(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*O(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/q(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=O(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,a,n,r,h,o=t.x,f=t.y,c=Math.sin(f),l=Math.cos(f),u=I(o-this.long0);return Math.abs(Math.abs(o-this.long0)-Math.PI)<=1e-10&&Math.abs(f+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*l*Math.cos(u)),t.x=this.a*e*l*Math.sin(u)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*l*Math.cos(u))+this.y0,t):(i=2*Math.atan(this.ssfn_(f,c,this.e))-s,n=Math.cos(i),a=Math.sin(i),Math.abs(this.coslat0)<=1e-10?(r=q(this.e,f*this.con,this.con*c),h=2*this.a*this.k0*r/this.cons,t.x=this.x0+h*Math.sin(o-this.long0),t.y=this.y0-this.con*h*Math.cos(o-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+n*Math.cos(u)),t.y=e*a):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*n*Math.cos(u))),t.y=e*(this.cosX0*a-this.sinX0*n*Math.cos(u))+this.y0),t.x=e*n*Math.sin(u)+this.x0,t))},inverse:function(t){var e,i,a,n,r;t.x-=this.x0,t.y-=this.y0;var h=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(h/(2*this.a*this.k0));return e=this.long0,i=this.lat0,h<=1e-10?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/h),e=Math.abs(this.coslat0)<1e-10?this.lat0>0?I(this.long0+Math.atan2(t.x,-1*t.y)):I(this.long0+Math.atan2(t.x,t.y)):I(this.long0+Math.atan2(t.x*Math.sin(o),h*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=1e-10){if(h<=1e-10)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,a=h*this.cons/(2*this.a*this.k0),i=this.con*L(this.e,a),e=this.con*I(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else n=2*Math.atan(h*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,h<=1e-10?r=this.X0:(r=Math.asin(Math.cos(n)*this.sinX0+t.y*Math.sin(n)*this.cosX0/h),e=I(this.long0+Math.atan2(t.x*Math.sin(n),h*this.cosX0*Math.cos(n)-t.y*this.sinX0*Math.sin(n)))),i=-1*L(this.e,Math.tan(.5*(s+r)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,i){return e*=i,Math.tan(.5*(s+t))*Math.pow((1-e)/(1+e),.5*i)}};var jt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,a=1/this.rf,s=2*a-Math.pow(a,2),n=this.e=Math.sqrt(s);this.R=this.k0*i*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),o=Math.log((1+n*e)/(1-n*e));this.K=r-this.alpha*h+this.alpha*n/2*o},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),a=-this.alpha*(e+i)+this.K,s=2*(Math.atan(Math.exp(a))-Math.PI/4),n=this.alpha*(t.x-this.lambda0),r=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(n))),h=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(n));return t.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,t.x=this.R*r+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,i=t.y-this.y0,a=e/this.R,s=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(a)),r=Math.atan(Math.sin(a)/(Math.cos(this.b0)*Math.cos(a)-Math.sin(this.b0)*Math.tan(s))),h=this.lambda0+r/this.alpha,o=0,f=n,c=-1e3,l=0;Math.abs(f-c)>1e-7;){if(++l>20)return;o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),c=f,f=2*Math.atan(Math.exp(o))-Math.PI/2}return t.x=h,t.y=f,t},names:["somerc"]};var Bt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var a,s,n=q(this.e,this.lat0,t),r=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(r*r<1&&(r=1),isNaN(this.longc)){var h=q(this.e,this.lat1,Math.sin(this.lat1)),o=q(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(r+Math.sqrt(r*r-1))*Math.pow(n,this.bl):this.el=(r-Math.sqrt(r*r-1))*Math.pow(n,this.bl);var f=Math.pow(h,this.bl),c=Math.pow(o,this.bl);s=.5*((a=this.el/f)-1/a);var l=(this.el*this.el-c*f)/(this.el*this.el+c*f),u=(c-f)/(c+f),d=I(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(l*Math.tan(.5*this.bl*d)/u)/this.bl,this.long0=I(this.long0);var b=I(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*b)/s),this.alpha=Math.asin(r*Math.sin(this.gamma0))}else a=this.lat0>=0?r+Math.sqrt(r*r-1):r-Math.sqrt(r*r-1),this.el=a*Math.pow(n,this.bl),s=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/r),this.long0=this.longc-Math.asin(s*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))},forward:function(t){var e,i,a,n=t.x,r=t.y,o=I(n-this.long0);if(Math.abs(Math.abs(r)-s)<=1e-10)a=r>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(h+a*this.gamma0*.5)),e=-1*a*s*this.al/this.bl;else{var f=q(this.e,r,Math.sin(r)),c=this.el/Math.pow(f,this.bl),l=.5*(c-1/c),u=.5*(c+1/c),d=Math.sin(this.bl*o),b=(l*Math.sin(this.gamma0)-d*Math.cos(this.gamma0))/u;i=Math.abs(Math.abs(b)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-b)/(1+b))/this.bl,e=Math.abs(Math.cos(this.bl*o))<=1e-10?this.al*this.bl*o:this.al*Math.atan2(l*Math.cos(this.gamma0)+d*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},inverse:function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var a=Math.exp(-1*this.bl*i/this.al),n=.5*(a-1/a),r=.5*(a+1/a),h=Math.sin(this.bl*e/this.al),o=(h*Math.cos(this.gamma0)+n*Math.sin(this.gamma0))/r,f=Math.pow(this.el/Math.sqrt((1+o)/(1-o)),1/this.bl);return Math.abs(o-1)<1e-10?(t.x=this.long0,t.y=s):Math.abs(o+1)<1e-10?(t.x=this.long0,t.y=-1*s):(t.y=L(this.e,f),t.x=I(this.long0-Math.atan2(n*Math.cos(this.gamma0)-h*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var Dt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),a=O(this.e,e,i),s=q(this.e,this.lat1,e),n=Math.sin(this.lat2),r=Math.cos(this.lat2),h=O(this.e,n,r),o=q(this.e,this.lat2,n),f=q(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(a/h)/Math.log(s/o):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=a/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=1e-10&&(i=N(i)*(s-2e-10));var a,n,r=Math.abs(Math.abs(i)-s);if(r>1e-10)a=q(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(a,this.ns);else{if((r=i*this.ns)<=0)return null;n=0}var h=this.ns*I(e-this.long0);return t.x=this.k0*(n*Math.sin(h))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(h))+this.y0,t},inverse:function(t){var e,i,a,n,r,h=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(h*h+o*o),i=1):(e=-Math.sqrt(h*h+o*o),i=-1);var f=0;if(0!==e&&(f=Math.atan2(i*h,i*o)),0!==e||this.ns>0){if(i=1/this.ns,a=Math.pow(e/(this.a*this.f0),i),-9999===(n=L(this.e,a)))return null}else n=-s;return r=I(f/this.ns+this.long0),t.x=r,t.y=n,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var Ut={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,a,s,n,r,h,o=t.x,f=t.y,c=I(o-this.long0);return e=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/e)-this.s45),a=-c*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(a)),n=Math.asin(Math.cos(i)*Math.sin(a)/Math.cos(s)),r=this.n*n,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),t.y=h*Math.cos(r)/1,t.x=h*Math.sin(r)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,a,s,n,r,h,o=t.x;t.x=t.y,t.y=o,this.czech||(t.y*=-1,t.x*=-1),n=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x)/Math.sin(this.s0),a=2*(Math.atan(Math.pow(this.ro0/n,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(a)-Math.sin(this.ad)*Math.cos(a)*Math.cos(s)),i=Math.asin(Math.cos(a)*Math.sin(s)/Math.cos(e)),t.x=this.long0-i/this.alfa,r=e,h=0;var f=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),Math.abs(r-t.y)<1e-10&&(h=1),r=t.y,f+=1}while(0===h&&f<15);return f>=15?null:t},names:["Krovak","krovak"]},Gt=function(t,e,i,a,s){return t*s-e*Math.sin(2*s)+i*Math.sin(4*s)-a*Math.sin(6*s)},zt=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Ft=function(t){return.375*t*(1+.25*t*(1+.46875*t))},Wt=function(t){return.05859375*t*t*(1+.75*t)},Yt=function(t){return t*t*t*(35/3072)},Qt=function(t,e,i){var a=e*i;return t/Math.sqrt(1-a*a)},Ht=function(t){return Math.abs(t)<s?t:t-N(t)*Math.PI},Xt=function(t,e,i,a,s){var n,r;n=t/e;for(var h=0;h<15;h++)if(n+=r=(t-(e*n-i*Math.sin(2*n)+a*Math.sin(4*n)-s*Math.sin(6*n)))/(e-2*i*Math.cos(2*n)+4*a*Math.cos(4*n)-6*s*Math.cos(6*n)),Math.abs(r)<=1e-10)return n;return NaN};var Jt={init:function(){this.sphere||(this.e0=zt(this.es),this.e1=Ft(this.es),this.e2=Wt(this.es),this.e3=Yt(this.es),this.ml0=this.a*Gt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,a=t.x,s=t.y;if(a=I(a-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(s)*Math.sin(a)),i=this.a*(Math.atan2(Math.tan(s),Math.cos(a))-this.lat0);else{var n=Math.sin(s),r=Math.cos(s),h=Qt(this.a,this.e,n),o=Math.tan(s)*Math.tan(s),f=a*Math.cos(s),c=f*f,l=this.es*r*r/(1-this.es);e=h*f*(1-c*o*(1/6-(8-o+8*l)*c/120)),i=this.a*Gt(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+h*n/r*c*(.5+(5-o+6*l)*c/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,a=t.x/this.a,n=t.y/this.a;if(this.sphere){var r=n+this.lat0;e=Math.asin(Math.sin(r)*Math.cos(a)),i=Math.atan2(Math.tan(a),Math.cos(r))}else{var h=this.ml0/this.a+n,o=Xt(h,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-s)<=1e-10)return t.x=this.long0,t.y=s,n<0&&(t.y*=-1),t;var f=Qt(this.a,this.e,Math.sin(o)),c=f*f*f/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(o),2),u=a*this.a/f,d=u*u;e=o-f*Math.tan(o)/c*u*u*(.5-(1+3*l)*u*u/24),i=u*(1-d*(l/3+(1+3*l)*l*d/15))/Math.cos(o)}return t.x=I(i+this.long0),t.y=Ht(e),t},names:["Cassini","Cassini_Soldner","cass"]},Kt=function(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e};var Vt={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-s)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Kt(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,i=[];return i[0]=.3333333333333333*t,e=t*t,i[0]+=.17222222222222222*e,i[1]=.06388888888888888*e,e*=t,i[0]+=.10257936507936508*e,i[1]+=.0664021164021164*e,i[2]=.016415012942191543*e,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Kt(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,a,n,r,o,f,c,l,u,d=t.x,b=t.y;if(d=I(d-this.long0),this.sphere){if(r=Math.sin(b),u=Math.cos(b),a=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+u*a:1+this.sinph0*r+this.cosph0*u*a)<=1e-10)return null;e=(i=Math.sqrt(2/i))*u*Math.sin(d),i*=this.mode===this.EQUIT?r:this.cosph0*r-this.sinph0*u*a}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),Math.abs(b+this.phi0)<1e-10)return null;i=h-.5*b,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(d),i*=a}}else{switch(f=0,c=0,l=0,a=Math.cos(d),n=Math.sin(d),r=Math.sin(b),o=Kt(this.e,r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=o/this.qp,c=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:l=1+this.sinb1*f+this.cosb1*c*a;break;case this.EQUIT:l=1+c*a;break;case this.N_POLE:l=s+b,o=this.qp-o;break;case this.S_POLE:l=b-s,o=this.qp+o}if(Math.abs(l)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),i=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*f-this.sinb1*c*a):(l=Math.sqrt(2/(1+c*a)))*f*this.ymf,e=this.xmf*l*c*n;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(l=Math.sqrt(o))*n,i=a*(this.mode===this.S_POLE?l:-l)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,a,n,r,h,o,f,c,l,u=t.x/this.a,d=t.y/this.a;if(this.sphere){var b,p=0,m=0;if((i=.5*(b=Math.sqrt(u*u+d*d)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(b)<=1e-10?0:Math.asin(d*m/b),u*=m,d=p*b;break;case this.OBLIQ:i=Math.abs(b)<=1e-10?this.phi0:Math.asin(p*this.sinph0+d*m*this.cosph0/b),u*=m*this.cosph0,d=(p-Math.sin(i)*this.sinph0)*b;break;case this.N_POLE:d=-d,i=s-i;break;case this.S_POLE:i-=s}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,d):0}else{if(o=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,d*=this.dd,(h=Math.sqrt(u*u+d*d))<1e-10)return t.x=0,t.y=this.phi0,t;n=2*Math.asin(.5*h/this.rq),a=Math.cos(n),u*=n=Math.sin(n),this.mode===this.OBLIQ?(o=a*this.sinb1+d*n*this.cosb1/h,r=this.qp*o,d=h*this.cosb1*a-d*this.sinb1*n):(o=d*n/h,r=this.qp*o,d=h*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(r=u*u+d*d))return t.x=0,t.y=this.phi0,t;o=1-r/this.qp,this.mode===this.S_POLE&&(o=-o)}e=Math.atan2(u,d),f=Math.asin(o),c=this.apa,l=f+f,i=f+c[0]*Math.sin(l)+c[1]*Math.sin(l+l)+c[2]*Math.sin(l+l+l)}return t.x=I(this.long0+e),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Zt=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var $t={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=O(this.e3,this.sin_po,this.cos_po),this.qs1=Kt(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=O(this.e3,this.sin_po,this.cos_po),this.qs2=Kt(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Kt(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var a=Kt(this.e3,this.sin_phi,this.cos_phi),s=this.a*Math.sqrt(this.c-this.ns0*a)/this.ns0,n=this.ns0*I(e-this.long0),r=s*Math.sin(n)+this.x0,h=this.rh-s*Math.cos(n)+this.y0;return t.x=r,t.y=h,t},inverse:function(t){var e,i,a,s,n,r;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),a=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),a=-1),s=0,0!==e&&(s=Math.atan2(a*t.x,a*t.y)),a=e*this.ns0/this.a,this.sphere?r=Math.asin((this.c-a*a)/(2*this.ns0)):(i=(this.c-a*a)/this.ns0,r=this.phi1z(this.e3,i)),n=I(s/this.ns0+this.long0),t.x=n,t.y=r,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,a,s,n,r=Zt(.5*e);if(t<1e-10)return r;for(var h=t*t,o=1;o<=25;o++)if(r+=n=.5*(s=1-(a=t*(i=Math.sin(r)))*a)*s/Math.cos(r)*(e/(1-h)-i/s+.5/t*Math.log((1-a)/(1+a))),Math.abs(n)<=1e-7)return r;return null}};var te={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,a,s,n,r,h,o=t.x,f=t.y;return a=I(o-this.long0),e=Math.sin(f),i=Math.cos(f),s=Math.cos(a),1,(n=this.sin_p14*e+this.cos_p14*i*s)>0||Math.abs(n)<=1e-10?(r=this.x0+1*this.a*i*Math.sin(a)/n,h=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*s)/n):(r=this.x0+this.infinity_dist*i*Math.sin(a),h=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*s)),t.x=r,t.y=h,t},inverse:function(t){var e,i,a,s,n,r;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),i=Math.sin(s),a=Math.cos(s),r=Zt(a*this.sin_p14+t.y*i*this.cos_p14/e),n=Math.atan2(t.x*i,e*this.cos_p14*a-t.y*this.sin_p14*i),n=I(this.long0+n)):(r=this.phic0,n=0),t.x=n,t.y=r,t},names:["gnom"]};var ee={init:function(){this.sphere||(this.k0=O(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,a=t.x,s=t.y,n=I(a-this.long0);if(this.sphere)e=this.x0+this.a*n*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var r=Kt(this.e,Math.sin(s));e=this.x0+this.a*this.k0*n,i=this.y0+this.a*r*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=I(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*s:s;for(var a,n,r,h,o=Math.asin(.5*e),f=0;f<30;f++)if(n=Math.sin(o),r=Math.cos(o),h=t*n,o+=a=Math.pow(1-h*h,2)/(2*r)*(e/(1-t*t)-n/(1-h*h)+.5/t*Math.log((1-h)/(1+h))),Math.abs(a)<=1e-10)return o;return NaN}(this.e,2*t.y*this.k0/this.a),e=I(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]};var ie={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,i=t.y,a=I(e-this.long0),s=Ht(i-this.lat0);return t.x=this.x0+this.a*a*this.rc,t.y=this.y0+this.a*s,t},inverse:function(t){var e=t.x,i=t.y;return t.x=I(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Ht(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var ae={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=zt(this.es),this.e1=Ft(this.es),this.e2=Wt(this.es),this.e3=Yt(this.es),this.ml0=this.a*Gt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,a,s=t.x,n=t.y,r=I(s-this.long0);if(a=r*Math.sin(n),this.sphere)Math.abs(n)<=1e-10?(e=this.a*r,i=-1*this.a*this.lat0):(e=this.a*Math.sin(a)/Math.tan(n),i=this.a*(Ht(n-this.lat0)+(1-Math.cos(a))/Math.tan(n)));else if(Math.abs(n)<=1e-10)e=this.a*r,i=-1*this.ml0;else{var h=Qt(this.a,this.e,Math.sin(n))/Math.tan(n);e=h*Math.sin(a),i=this.a*Gt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+h*(1-Math.cos(a))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,a,s,n,r,h,o,f;if(a=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=1e-10)e=I(a/this.a+this.long0),i=0;else{var c;for(r=this.lat0+s/this.a,h=a*a/this.a/this.a+r*r,o=r,n=20;n;--n)if(o+=f=-1*(r*(o*(c=Math.tan(o))+1)-o-.5*(o*o+h)*c)/((o-r)/c-1),Math.abs(f)<=1e-10){i=o;break}e=I(this.long0+Math.asin(a*Math.tan(o)/this.a)/Math.sin(i))}else if(Math.abs(s+this.ml0)<=1e-10)i=0,e=I(this.long0+a/this.a);else{var l,u,d,b,p;for(r=(this.ml0+s)/this.a,h=a*a/this.a/this.a+r*r,o=r,n=20;n;--n)if(p=this.e*Math.sin(o),l=Math.sqrt(1-p*p)*Math.tan(o),u=this.a*Gt(this.e0,this.e1,this.e2,this.e3,o),d=this.e0-2*this.e1*Math.cos(2*o)+4*this.e2*Math.cos(4*o)-6*this.e3*Math.cos(6*o),o-=f=(r*(l*(b=u/this.a)+1)-b-.5*l*(b*b+h))/(this.es*Math.sin(2*o)*(b*b+h-2*r*b)/(4*l)+(r-b)*(l*d-2/Math.sin(2*o))-d),Math.abs(f)<=1e-10){i=o;break}l=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=I(this.long0+Math.asin(a*l/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]};var se={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i=t.x,s=t.y-this.lat0,n=i-this.long0,r=s/a*1e-5,h=n,o=1,f=0;for(e=1;e<=10;e++)o*=r,f+=this.A[e]*o;var c,l=f,u=h,d=1,b=0,p=0,m=0;for(e=1;e<=6;e++)c=b*l+d*u,d=d*l-b*u,b=c,p=p+this.B_re[e]*d-this.B_im[e]*b,m=m+this.B_im[e]*d+this.B_re[e]*b;return t.x=m*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,i,s=t.x,n=t.y,r=s-this.x0,h=(n-this.y0)/this.a,o=r/this.a,f=1,c=0,l=0,u=0;for(e=1;e<=6;e++)i=c*h+f*o,f=f*h-c*o,c=i,l=l+this.C_re[e]*f-this.C_im[e]*c,u=u+this.C_im[e]*f+this.C_re[e]*c;for(var d=0;d<this.iterations;d++){var b,p=l,m=u,y=h,M=o;for(e=2;e<=6;e++)b=m*l+p*u,p=p*l-m*u,m=b,y+=(e-1)*(this.B_re[e]*p-this.B_im[e]*m),M+=(e-1)*(this.B_im[e]*p+this.B_re[e]*m);p=1,m=0;var g=this.B_re[1],v=this.B_im[1];for(e=2;e<=6;e++)b=m*l+p*u,p=p*l-m*u,m=b,g+=e*(this.B_re[e]*p-this.B_im[e]*m),v+=e*(this.B_im[e]*p+this.B_re[e]*m);var _=g*g+v*v;l=(y*g+M*v)/_,u=(M*g-y*v)/_}var w=l,x=u,S=1,E=0;for(e=1;e<=9;e++)S*=w,E+=this.D[e]*S;var P=this.lat0+E*a*1e5,C=this.long0+x;return t.x=C,t.y=P,t},names:["New_Zealand_Map_Grid","nzmg"]};var ne={init:function(){},forward:function(t){var e=t.x,i=t.y,a=I(e-this.long0),s=this.x0+this.a*a,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=s,t.y=n,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=I(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]};var re={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=wt(this.es)},forward:function(t){var e,i,a=t.x,s=t.y;if(a=I(a-this.long0),this.sphere){if(this.m)for(var n=this.n*Math.sin(s),r=20;r;--r){var h=(this.m*s+Math.sin(s)-n)/(this.m+Math.cos(s));if(s-=h,Math.abs(h)<1e-10)break}else s=1!==this.n?Math.asin(this.n*Math.sin(s)):s;e=this.a*this.C_x*a*(this.m+Math.cos(s)),i=this.a*this.C_y*s}else{var o=Math.sin(s),f=Math.cos(s);i=this.a*xt(s,o,f,this.en),e=this.a*a*f/Math.sqrt(1-this.es*o*o)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,a,n;return t.x-=this.x0,a=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,a/=this.C_x*(this.m+Math.cos(e)),this.m?e=Zt((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Zt(Math.sin(e)/this.n)),a=I(a+this.long0),e=Ht(e)):(e=St(t.y/this.a,this.es,this.en),(n=Math.abs(e))<s?(n=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)),a=I(i)):n-1e-10<s&&(a=this.long0)),t.x=a,t.y=e,t},names:["Sinusoidal","sinu"]};var he={init:function(){},forward:function(t){for(var e=t.x,i=t.y,a=I(e-this.long0),s=i,n=Math.PI*Math.sin(i);;){var r=-(s+Math.sin(s)-n)/(1+Math.cos(s));if(s+=r,Math.abs(r)<1e-10)break}s/=2,Math.PI/2-Math.abs(i)<1e-10&&(a=0);var h=.900316316158*this.a*a*Math.cos(s)+this.x0,o=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=h,t.y=o,t},inverse:function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var a=I(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));a<-Math.PI&&(a=-Math.PI),a>Math.PI&&(a=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var s=Math.asin(i);return t.x=a,t.y=s,t},names:["Mollweide","moll"]};var oe={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=zt(this.es),this.e1=Ft(this.es),this.e2=Wt(this.es),this.e3=Yt(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=O(this.e,this.sinphi,this.cosphi),this.ml1=Gt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=O(this.e,this.sinphi,this.cosphi),this.ml2=Gt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Gt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,a=t.y;if(this.sphere)e=this.a*(this.g-a);else{var s=Gt(this.e0,this.e1,this.e2,this.e3,a);e=this.a*(this.g-s)}var n=this.ns*I(i-this.long0),r=this.x0+e*Math.sin(n),h=this.y0+this.rh-e*Math.cos(n);return t.x=r,t.y=h,t},inverse:function(t){var e,i,a,s;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var n=0;if(0!==i&&(n=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=I(this.long0+n/this.ns),a=Ht(this.g-i/this.a),t.x=s,t.y=a,t;var r=this.g-i/this.a;return a=Xt(r,this.e0,this.e1,this.e2,this.e3),s=I(this.long0+n/this.ns),t.x=s,t.y=a,t},names:["Equidistant_Conic","eqdc"]};var fe={init:function(){this.R=this.a},forward:function(t){var e,i,a=t.x,n=t.y,r=I(a-this.long0);Math.abs(n)<=1e-10&&(e=this.x0+this.R*r,i=this.y0);var h=Zt(2*Math.abs(n/Math.PI));(Math.abs(r)<=1e-10||Math.abs(Math.abs(n)-s)<=1e-10)&&(e=this.x0,i=n>=0?this.y0+Math.PI*this.R*Math.tan(.5*h):this.y0+Math.PI*this.R*-Math.tan(.5*h));var o=.5*Math.abs(Math.PI/r-r/Math.PI),f=o*o,c=Math.sin(h),l=Math.cos(h),u=l/(c+l-1),d=u*u,b=u*(2/c-1),p=b*b,m=Math.PI*this.R*(o*(u-p)+Math.sqrt(f*(u-p)*(u-p)-(p+f)*(d-p)))/(p+f);r<0&&(m=-m),e=this.x0+m;var y=f+u;return m=Math.PI*this.R*(b*y-o*Math.sqrt((p+f)*(f+1)-y*y))/(p+f),i=n>=0?this.y0+m:this.y0-m,t.x=e,t.y=i,t},inverse:function(t){var e,i,a,s,n,r,h,o,f,c,l,u;return t.x-=this.x0,t.y-=this.y0,l=Math.PI*this.R,n=(a=t.x/l)*a+(s=t.y/l)*s,l=3*(s*s/(o=-2*(r=-Math.abs(s)*(1+n))+1+2*s*s+n*n)+(2*(h=r-2*s*s+a*a)*h*h/o/o/o-9*r*h/o/o)/27)/(f=(r-h*h/3/o)/o)/(c=2*Math.sqrt(-f/3)),Math.abs(l)>1&&(l=l>=0?1:-1),u=Math.acos(l)/3,i=t.y>=0?(-c*Math.cos(u+Math.PI/3)-h/3/o)*Math.PI:-(-c*Math.cos(u+Math.PI/3)-h/3/o)*Math.PI,e=Math.abs(a)<1e-10?this.long0:I(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(a*a-s*s)+n*n))/2/a),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var ce={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,a,n,r,h,o,f,c,l,u,d,b,p,m,y,M,g,v,_,w,x,S=t.x,E=t.y,P=Math.sin(t.y),C=Math.cos(t.y),k=I(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(s-E)*Math.sin(k),t.y=this.y0-this.a*(s-E)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(s+E)*Math.sin(k),t.y=this.y0+this.a*(s+E)*Math.cos(k),t):(g=this.sin_p12*P+this.cos_p12*C*Math.cos(k),M=(y=Math.acos(g))/Math.sin(y),t.x=this.x0+this.a*M*C*Math.sin(k),t.y=this.y0+this.a*M*(this.cos_p12*P-this.sin_p12*C*Math.cos(k)),t):(e=zt(this.es),i=Ft(this.es),a=Wt(this.es),n=Yt(this.es),Math.abs(this.sin_p12-1)<=1e-10?(r=this.a*Gt(e,i,a,n,s),h=this.a*Gt(e,i,a,n,E),t.x=this.x0+(r-h)*Math.sin(k),t.y=this.y0-(r-h)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=1e-10?(r=this.a*Gt(e,i,a,n,s),h=this.a*Gt(e,i,a,n,E),t.x=this.x0+(r+h)*Math.sin(k),t.y=this.y0+(r+h)*Math.cos(k),t):(o=P/C,f=Qt(this.a,this.e,this.sin_p12),c=Qt(this.a,this.e,P),l=Math.atan((1-this.es)*o+this.es*f*this.sin_p12/(c*C)),v=0===(u=Math.atan2(Math.sin(k),this.cos_p12*Math.tan(l)-this.sin_p12*Math.cos(k)))?Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.abs(Math.abs(u)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.asin(Math.sin(k)*Math.cos(l)/Math.sin(u)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),y=f*v*(1-(_=v*v)*(m=(b=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es))*b)*(1-m)/6+(w=_*v)/8*(p=d*b)*(1-2*m)+(x=w*v)/120*(m*(4-7*m)-3*d*d*(1-7*m))-x*v/48*p),t.x=this.x0+y*Math.sin(u),t.y=this.y0+y*Math.cos(u),t))},inverse:function(t){var e,i,a,n,r,h,o,f,c,l,u,d,b,p,m,y,M,g,v,_,w,x;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*s*this.a)return;return i=e/this.a,a=Math.sin(i),n=Math.cos(i),r=this.long0,Math.abs(e)<=1e-10?h=this.lat0:(h=Zt(n*this.sin_p12+t.y*a*this.cos_p12/e),o=Math.abs(this.lat0)-s,r=Math.abs(o)<=1e-10?this.lat0>=0?I(this.long0+Math.atan2(t.x,-t.y)):I(this.long0-Math.atan2(-t.x,t.y)):I(this.long0+Math.atan2(t.x*a,e*this.cos_p12*n-t.y*this.sin_p12*a))),t.x=r,t.y=h,t}return f=zt(this.es),c=Ft(this.es),l=Wt(this.es),u=Yt(this.es),Math.abs(this.sin_p12-1)<=1e-10?(d=this.a*Gt(f,c,l,u,s),e=Math.sqrt(t.x*t.x+t.y*t.y),h=Xt((d-e)/this.a,f,c,l,u),r=I(this.long0+Math.atan2(t.x,-1*t.y)),t.x=r,t.y=h,t):Math.abs(this.sin_p12+1)<=1e-10?(d=this.a*Gt(f,c,l,u,s),e=Math.sqrt(t.x*t.x+t.y*t.y),h=Xt((e-d)/this.a,f,c,l,u),r=I(this.long0+Math.atan2(t.x,t.y)),t.x=r,t.y=h,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),b=Qt(this.a,this.e,this.sin_p12),y=Math.cos(m),g=-(M=this.e*this.cos_p12*y)*M/(1-this.es),v=3*this.es*(1-g)*this.sin_p12*this.cos_p12*y/(1-this.es),x=1-g*(w=(_=e/b)-g*(1+g)*Math.pow(_,3)/6-v*(1+3*g)*Math.pow(_,4)/24)*w/2-_*w*w*w/6,p=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*y),r=I(this.long0+Math.asin(Math.sin(m)*Math.sin(w)/Math.cos(p))),h=Math.atan((1-this.es*x*this.sin_p12/Math.sin(p))*Math.tan(p)/(1-this.es)),t.x=r,t.y=h,t)},names:["Azimuthal_Equidistant","aeqd"]};var le={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,a,s,n,r,h,o=t.x,f=t.y;return a=I(o-this.long0),e=Math.sin(f),i=Math.cos(f),s=Math.cos(a),1,((n=this.sin_p14*e+this.cos_p14*i*s)>0||Math.abs(n)<=1e-10)&&(r=1*this.a*i*Math.sin(a),h=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*s)),t.x=r,t.y=h,t},inverse:function(t){var e,i,a,n,r,h,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=Zt(e/this.a),a=Math.sin(i),n=Math.cos(i),h=this.long0,Math.abs(e)<=1e-10?(o=this.lat0,t.x=h,t.y=o,t):(o=Zt(n*this.sin_p14+t.y*a*this.cos_p14/e),r=Math.abs(this.lat0)-s,Math.abs(r)<=1e-10?(h=this.lat0>=0?I(this.long0+Math.atan2(t.x,-t.y)):I(this.long0-Math.atan2(-t.x,t.y)),t.x=h,t.y=o,t):(h=I(this.long0+Math.atan2(t.x*a,e*this.cos_p14*n-t.y*this.sin_p14*a)),t.x=h,t.y=o,t))},names:["ortho"]},ue=1,de=2,be=3,pe=4,me=5,ye=6,Me=1,ge=2,ve=3,_e=4;function we(t,e,i,a){var n;return t<1e-10?(a.value=Me,n=0):(n=Math.atan2(e,i),Math.abs(n)<=h?a.value=Me:n>h&&n<=s+h?(a.value=ge,n-=s):n>s+h||n<=-(s+h)?(a.value=ve,n=n>=0?n-f:n+f):(a.value=_e,n+=s)),n}function xe(t,e){var i=t+e;return i<-f?i+=o:i>+f&&(i-=o),i}var Se={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=s-h/2?this.face=me:this.lat0<=-(s-h/2)?this.face=ye:Math.abs(this.long0)<=h?this.face=ue:Math.abs(this.long0)<=s+h?this.face=this.long0>0?de:pe:this.face=be,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,a,n,r,o,c={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===me)n=s-e,i>=h&&i<=s+h?(l.value=Me,a=i-s):i>s+h||i<=-(s+h)?(l.value=ge,a=i>0?i-f:i+f):i>-(s+h)&&i<=-h?(l.value=ve,a=i+s):(l.value=_e,a=i);else if(this.face===ye)n=s+e,i>=h&&i<=s+h?(l.value=Me,a=-i+s):i<h&&i>=-h?(l.value=ge,a=-i):i<-h&&i>=-(s+h)?(l.value=ve,a=-i-s):(l.value=_e,a=i>0?-i+f:-i-f);else{var u,d,b,p,m,y;this.face===de?i=xe(i,+s):this.face===be?i=xe(i,+f):this.face===pe&&(i=xe(i,-s)),p=Math.sin(e),m=Math.cos(e),y=Math.sin(i),u=m*Math.cos(i),d=m*y,b=p,this.face===ue?a=we(n=Math.acos(u),b,d,l):this.face===de?a=we(n=Math.acos(d),b,-u,l):this.face===be?a=we(n=Math.acos(-u),b,-d,l):this.face===pe?a=we(n=Math.acos(-d),b,u,l):(n=a=0,l.value=Me)}return o=Math.atan(12/f*(a+Math.acos(Math.sin(a)*Math.cos(h))-s)),r=Math.sqrt((1-Math.cos(n))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(a))))),l.value===ge?o+=s:l.value===ve?o+=f:l.value===_e&&(o+=1.5*f),c.x=r*Math.cos(o),c.y=r*Math.sin(o),c.x=c.x*this.a+this.x0,c.y=c.y*this.a+this.y0,t.x=c.x,t.y=c.y,t},inverse:function(t){var e,i,a,n,r,h,o,c,l,u,d,b,p={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=Me:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=ge,e-=s):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=ve,e=e<0?e+f:e-f):(m.value=_e,e+=s),l=f/12*Math.tan(e),r=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),h=Math.atan(r),(o=1-(a=Math.cos(e))*a*(n=Math.tan(i))*n*(1-Math.cos(Math.atan(1/Math.cos(h)))))<-1?o=-1:o>1&&(o=1),this.face===me)c=Math.acos(o),p.phi=s-c,m.value===Me?p.lam=h+s:m.value===ge?p.lam=h<0?h+f:h-f:m.value===ve?p.lam=h-s:p.lam=h;else if(this.face===ye)c=Math.acos(o),p.phi=c-s,m.value===Me?p.lam=-h+s:m.value===ge?p.lam=-h:m.value===ve?p.lam=-h-s:p.lam=h<0?-h-f:-h+f;else{var y,M,g;l=(y=o)*y,M=(l+=(g=l>=1?0:Math.sqrt(1-l)*Math.sin(h))*g)>=1?0:Math.sqrt(1-l),m.value===ge?(l=M,M=-g,g=l):m.value===ve?(M=-M,g=-g):m.value===_e&&(l=M,M=g,g=-l),this.face===de?(l=y,y=-M,M=l):this.face===be?(y=-y,M=-M):this.face===pe&&(l=y,y=M,M=-l),p.phi=Math.acos(-g)-s,p.lam=Math.atan2(M,y),this.face===de?p.lam=xe(p.lam,-s):this.face===be?p.lam=xe(p.lam,-f):this.face===pe&&(p.lam=xe(p.lam,+s))}return 0!==this.es&&(u=p.phi<0?1:0,d=Math.tan(p.phi),b=this.b/Math.sqrt(d*d+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-b*b)/(this.one_minus_f*b)),u&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Ee=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Pe=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Ce=r/5,ke=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};var Ae={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=I(t.x-this.long0),i=Math.abs(t.y),a=Math.floor(i*Ce);a<0?a=0:a>=18&&(a=17);var s={x:ke(Ee[a],i=r*(i-.08726646259971647*a))*e,y:ke(Pe[a],i)};return t.y<0&&(s.y=-s.y),s.x=s.x*this.a*.8487+this.x0,s.y=s.y*this.a*1.3523+this.y0,s},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=Ee[18][0],e.y=t.y<0?-s:s;else{var i=Math.floor(18*e.y);for(i<0?i=0:i>=18&&(i=17);;)if(Pe[i][0]>e.y)--i;else{if(!(Pe[i+1][0]<=e.y))break;++i}var a=Pe[i],r=5*(e.y-a[0])/(Pe[i+1][0]-a[0]);r=function(t,e,i,a){for(var s=e;a;--a){var n=t(s);if(s-=n,Math.abs(n)<i)break}return s}((function(t){return(ke(a,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(a,t)}),r,1e-10,100),e.x/=ke(Ee[i],r),e.y=(5*i+r)*n,t.y<0&&(e.y=-e.y)}return e.x=I(e.x+this.long0),e},names:["Robinson","robin"]};var Te,Re={init:function(){this.name="geocent"},forward:function(t){return J(t,this.es,this.a)},inverse:function(t){return K(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};rt.defaultDatum="WGS84",rt.Proj=X,rt.WGS84=new rt.Proj("WGS84"),rt.Point=vt,rt.toPoint=tt,rt.defs=C,rt.transform=it,rt.mgrs=ft,rt.version="__VERSION__",(Te=rt).Proj.projections.add(Et),Te.Proj.projections.add(Rt),Te.Proj.projections.add(Ot),Te.Proj.projections.add(qt),Te.Proj.projections.add(Lt),Te.Proj.projections.add(jt),Te.Proj.projections.add(Bt),Te.Proj.projections.add(Dt),Te.Proj.projections.add(Ut),Te.Proj.projections.add(Jt),Te.Proj.projections.add(Vt),Te.Proj.projections.add($t),Te.Proj.projections.add(te),Te.Proj.projections.add(ee),Te.Proj.projections.add(ie),Te.Proj.projections.add(ae),Te.Proj.projections.add(se),Te.Proj.projections.add(ne),Te.Proj.projections.add(re),Te.Proj.projections.add(he),Te.Proj.projections.add(oe),Te.Proj.projections.add(fe),Te.Proj.projections.add(ce),Te.Proj.projections.add(le),Te.Proj.projections.add(Se),Te.Proj.projections.add(Ae),Te.Proj.projections.add(Re);e.default=rt}]);